import{createContext as e,useMemo as r,useContext as t,cloneElement as n,useRef as o,useCallback as i,useEffect as a,useState as l,memo as d,createElement as u,Component as c}from"react";import{TooltipProvider as s,Tooltip as f,useTooltipHandlers as h,TooltipActionsContext as p,TooltipStateContext as g}from"@nivo/tooltip";import{ThemeProvider as b,useTheme as m,sanitizeSvgTextStyle as v}from"@nivo/theming";import y from"lodash/isString.js";import{config as _,useSpring as w,to as k,animated as x}from"@react-spring/web";import{jsx as O,jsxs as M}from"react/jsx-runtime";import{interpolateString as j}from"d3-interpolate";import C from"lodash/without.js";import{curveBasis as z,curveBasisClosed as B,curveBasisOpen as P,curveBundle as R,curveCardinal as G,curveCardinalClosed as W,curveCardinalOpen as I,curveCatmullRom as A,curveCatmullRomClosed as L,curveCatmullRomOpen as S,curveLinear as Y,curveLinearClosed as q,curveMonotoneX as D,curveMonotoneY as E,curveNatural as U,curveStep as T,curveStepAfter as F,curveStepBefore as X,stackOrderAscending as H,stackOrderDescending as K,stackOrderInsideOut as N,stackOrderNone as $,stackOrderReverse as J,stackOffsetExpand as Q,stackOffsetDiverging as V,stackOffsetNone as Z,stackOffsetSilhouette as ee,stackOffsetWiggle as re}from"d3-shape";import{scaleQuantize as te,scaleOrdinal as ne,scaleSequential as oe}from"d3-scale";import{schemeBrBG as ie,schemePRGn as ae,schemePiYG as le,schemePuOr as de,schemeRdBu as ue,schemeRdGy as ce,schemeRdYlBu as se,schemeRdYlGn as fe,schemeSpectral as he,schemeBlues as pe,schemeGreens as ge,schemeGreys as be,schemeOranges as me,schemePurples as ve,schemeReds as ye,schemeBuGn as _e,schemeBuPu as we,schemeGnBu as ke,schemeOrRd as xe,schemePuBuGn as Oe,schemePuBu as Me,schemePuRd as je,schemeRdPu as Ce,schemeYlGnBu as ze,schemeYlGn as Be,schemeYlOrBr as Pe,schemeYlOrRd as Re,schemeCategory10 as Ge,schemeAccent as We,schemeDark2 as Ie,schemePaired as Ae,schemePastel1 as Le,schemePastel2 as Se,schemeSet1 as Ye,schemeSet2 as qe,schemeSet3 as De,interpolateBrBG as Ee,interpolatePRGn as Ue,interpolatePiYG as Te,interpolatePuOr as Fe,interpolateRdBu as Xe,interpolateRdGy as He,interpolateRdYlBu as Ke,interpolateRdYlGn as Ne,interpolateSpectral as $e,interpolateBlues as Je,interpolateGreens as Qe,interpolateGreys as Ve,interpolateOranges as Ze,interpolatePurples as er,interpolateReds as rr,interpolateViridis as tr,interpolateInferno as nr,interpolateMagma as or,interpolatePlasma as ir,interpolateWarm as ar,interpolateCool as lr,interpolateCubehelixDefault as dr,interpolateBuGn as ur,interpolateBuPu as cr,interpolateGnBu as sr,interpolateOrRd as fr,interpolatePuBuGn as hr,interpolatePuBu as pr,interpolatePuRd as gr,interpolateRdPu as br,interpolateYlGnBu as mr,interpolateYlGn as vr,interpolateYlOrBr as yr,interpolateYlOrRd as _r,interpolateRainbow as wr,interpolateSinebow as kr}from"d3-scale-chromatic";import xr from"lodash/last.js";import Or from"lodash/isArray.js";import Mr from"lodash/isFunction.js";import{format as jr}from"d3-format";import{timeFormat as Cr}from"d3-time-format";import zr from"lodash/get.js";import Br from"lodash/isPlainObject.js";import Pr from"lodash/pick.js";import Rr from"lodash/isEqual.js";import Gr from"lodash/set.js";var Wr=e(),Ir={animate:!0,config:"default"},Ar=function(e){var t=e.children,n=e.animate,o=void 0===n||n,i=e.config,a=void 0===i?"default":i,l=r((function(){var e=y(a)?_[a]:a;return{animate:o,config:e}}),[o,a]);return O(Wr.Provider,{value:l,children:t})},Lr=function(){return t(Wr)},Sr=function(e){var r=e.children,t=e.condition,o=e.wrapper;return t?n(o,{},r):r},Yr={position:"relative"},qr=function(e){var r=e.children,t=e.theme,n=e.renderWrapper,i=void 0===n||n,a=e.isInteractive,l=void 0===a||a,d=e.animate,u=e.motionConfig,c=o(null);return O(b,{theme:t,children:O(Ar,{animate:d,config:u,children:O(s,{container:c,children:M(Sr,{condition:i,wrapper:O("div",{style:Yr,ref:c}),children:[r,l&&O(f,{})]})})})})},Dr=function(){},Er={position:"relative"},Ur=function(e){var t=e.children,n=e.theme,a=e.isInteractive,l=void 0===a||a,d=e.renderWrapper,u=void 0===d||d,c=e.animate,s=e.motionConfig,m=o(null),v=h(m),y=v.actions,_=v.state,w=i((function(e,r){return y.showTooltipFromEvent(e,r)}),[y]),k=r((function(){return{showTooltip:l?w:Dr,hideTooltip:l?y.hideTooltip:Dr}}),[y,l,w]);return O(b,{theme:n,children:O(Ar,{animate:c,config:s,children:O(p.Provider,{value:y,children:O(g.Provider,{value:_,children:M(Sr,{condition:u,wrapper:O("div",{style:Er,ref:m}),children:[t(k),l&&O(f,{})]})})})})})},Tr=function(e){var t=Lr(),n=t.animate,i=t.config,l=function(e){var r=o();return a((function(){r.current=e}),[e]),r.current}(e),d=r((function(){return j(l,e)}),[l,e]),u=w({from:{value:0},to:{value:1},reset:!0,config:i,immediate:!n}).value;return k(u,d)},Fr={basis:z,basisClosed:B,basisOpen:P,bundle:R,cardinal:G,cardinalClosed:W,cardinalOpen:I,catmullRom:A,catmullRomClosed:L,catmullRomOpen:S,linear:Y,linearClosed:q,monotoneX:D,monotoneY:E,natural:U,step:T,stepAfter:F,stepBefore:X},Xr=Object.keys(Fr),Hr=Xr.filter((function(e){return e.endsWith("Closed")})),Kr=C(Xr,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),Nr=C(Xr,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),$r=function(e){if(!Fr[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return Fr[e]},Jr={ascending:H,descending:K,insideOut:N,none:$,reverse:J},Qr=Object.keys(Jr),Vr=function(e){return Jr[e]},Zr={expand:Q,diverging:V,none:Z,silhouette:ee,wiggle:re},et=Object.keys(Zr),rt=function(e){return Zr[e]},tt=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],nt=function(e){return r((function(){return $r(e)}),[e])};function ot(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function it(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return ot(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ot(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function at(){return at=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},at.apply(null,arguments)}function lt(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}function dt(e,r){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},dt(e,r)}var ut={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:xr(ie),PRGn:xr(ae),PiYG:xr(le),PuOr:xr(de),RdBu:xr(ue),RdGy:xr(ce),RdYlBu:xr(se),RdYlGn:xr(fe),spectral:xr(he),blues:xr(pe),greens:xr(ge),greys:xr(be),oranges:xr(me),purples:xr(ve),reds:xr(ye),BuGn:xr(_e),BuPu:xr(we),GnBu:xr(ke),OrRd:xr(xe),PuBuGn:xr(Oe),PuBu:xr(Me),PuRd:xr(je),RdPu:xr(Ce),YlGnBu:xr(ze),YlGn:xr(Be),YlOrBr:xr(Pe),YlOrRd:xr(Re)},ct=Object.keys(ut),st=function(e){if(Mr(e)){if(!Mr(e.domain))throw new Error("Provided colors should be a valid quantize scale providing a 'domain()' function");return e}if(ut[e])return te().range(ut[e]);if(Or(e))return te().range(e);throw new Error("Unable to guess quantize color scale from '"+e+"',\nmust be a function or one of:\n'"+ct.join("', '")+"'")},ft={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:Ge,accent:We,dark2:Ie,paired:Ae,pastel1:Le,pastel2:Se,set1:Ye,set2:qe,set3:De,brown_blueGreen:xr(ie),purpleRed_green:xr(ae),pink_yellowGreen:xr(le),purple_orange:xr(de),red_blue:xr(ue),red_grey:xr(ce),red_yellow_blue:xr(se),red_yellow_green:xr(fe),spectral:xr(he),blues:xr(pe),greens:xr(ge),greys:xr(be),oranges:xr(me),purples:xr(ve),reds:xr(ye),blue_green:xr(_e),blue_purple:xr(we),green_blue:xr(ke),orange_red:xr(xe),purple_blue_green:xr(Oe),purple_blue:xr(Me),purple_red:xr(je),red_purple:xr(Ce),yellow_green_blue:xr(ze),yellow_green:xr(Be),yellow_orange_brown:xr(Pe),yellow_orange_red:xr(Re)},ht=["nivo","category10","accent","dark2","paired","pastel1","pastel2","set1","set2","set3","brown_blueGreen","purpleRed_green","pink_yellowGreen","purple_orange","red_blue","red_grey","red_yellow_blue","red_yellow_green","spectral","blues","greens","greys","oranges","purples","reds","blue_green","blue_purple","green_blue","orange_red","purple_blue_green","purple_blue","purple_red","red_purple","yellow_green_blue","yellow_green","yellow_orange_brown","yellow_orange_red"],pt={brown_blueGreen:Ee,purpleRed_green:Ue,pink_yellowGreen:Te,purple_orange:Fe,red_blue:Xe,red_grey:He,red_yellow_blue:Ke,red_yellow_green:Ne,spectral:$e,blues:Je,greens:Qe,greys:Ve,oranges:Ze,purples:er,reds:rr,viridis:tr,inferno:nr,magma:or,plasma:ir,warm:ar,cool:lr,cubehelixDefault:dr,blue_green:ur,blue_purple:cr,green_blue:sr,orange_red:fr,purple_blue_green:hr,purple_blue:pr,purple_red:gr,red_purple:br,yellow_green_blue:mr,yellow_green:vr,yellow_orange_brown:yr,yellow_orange_red:_r,rainbow:wr,sinebow:kr},gt=["brown_blueGreen","purpleRed_green","pink_yellowGreen","purple_orange","red_blue","red_grey","red_yellow_blue","red_yellow_green","spectral","blues","greens","greys","oranges","purples","reds","viridis","inferno","magma","plasma","warm","cool","cubehelixDefault","blue_green","blue_purple","green_blue","orange_red","purple_blue_green","purple_blue","purple_red","red_purple","yellow_green_blue","yellow_green","yellow_orange_brown","yellow_orange_red","rainbow","sinebow"],bt=function(){return ne(["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"])},mt=function(e,r){if(y(e)){var t=ft[e];if(void 0!==t){var n=ne(t);return n.type="ordinal",n}if(void 0!==r&&0===e.indexOf("seq:")){var o=pt[e.slice(4)];if(void 0!==o){var i=oe(o).domain(r.domain());return i.type="sequential",i}}}if(Or(e)){var a=ne(e);return a.type="ordinal",a}return function(){return e}},vt=!0,yt=bt,_t=ne(De),wt={top:0,right:0,bottom:0,left:0},kt=function(e,t,n){return void 0===n&&(n={}),r((function(){var r=at({},wt,n);return{margin:r,innerWidth:e-r.left-r.right,innerHeight:t-r.top-r.bottom,outerWidth:e,outerHeight:t}}),[e,t,n])},xt=function(){var e=o(null),r=l({left:0,top:0,width:0,height:0}),t=r[0],n=r[1],i=l((function(){return"undefined"==typeof ResizeObserver?null:new ResizeObserver((function(e){var r=e[0];return n(r.contentRect)}))}))[0];return a((function(){return e.current&&null!==i&&i.observe(e.current),function(){null!==i&&i.disconnect()}}),[i]),[e,t]},Ot=function(e){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?Cr(e.slice("5")):jr(e):function(e){return""+e}},Mt=function(e){return r((function(){return Ot(e)}),[e])},jt=function(e){var r=e.children,t=xt(),n=t[0],o=t[1],i=o.width>0&&o.height>0;return O("div",{ref:n,style:{width:"100%",height:"100%"},children:i&&r({width:o.width,height:o.height})})},Ct=["id","colors"],zt=function(e){var r=e.id,t=e.colors,n=lt(e,Ct);return O("linearGradient",at({id:r,x1:0,x2:0,y1:0,y2:1},n,{children:t.map((function(e){var r=e.offset,t=e.color,n=e.opacity;return O("stop",{offset:r+"%",stopColor:t,stopOpacity:void 0!==n?n:1},r)}))}))},Bt=function(e,r,t){return void 0===t&&(t={}),at({id:e,type:"linearGradient",colors:r},t)},Pt={linearGradient:zt},Rt={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Gt=d((function(e){var r=e.id,t=e.background,n=void 0===t?Rt.background:t,o=e.color,i=void 0===o?Rt.color:o,a=e.size,l=void 0===a?Rt.size:a,d=e.padding,u=void 0===d?Rt.padding:d,c=e.stagger,s=void 0===c?Rt.stagger:c,f=l+u,h=l/2,p=u/2;return!0===s&&(f=2*l+2*u),M("pattern",{id:r,width:f,height:f,patternUnits:"userSpaceOnUse",children:[O("rect",{width:f,height:f,fill:n}),O("circle",{cx:p+h,cy:p+h,r:h,fill:i}),s&&O("circle",{cx:1.5*u+l+h,cy:1.5*u+l+h,r:h,fill:i})]})})),Wt=function(e,r){return void 0===r&&(r={}),at({id:e,type:"patternDots"},r)},It=2*Math.PI,At=function(e){return e*Math.PI/180},Lt=function(e){return 180*e/Math.PI},St=function(e){return e.startAngle+(e.endAngle-e.startAngle)/2},Yt=function(e,r){return{x:Math.cos(e)*r,y:Math.sin(e)*r}},qt=function(e){var r=e%360;return r<0&&(r+=360),r},Dt=function(e){return e<0?360- -e%360:e%360},Et=function(e,r,t){void 0===t&&(t=360);var n=r;return Math.abs(r-e)>t&&(n=e+(r>e?t:-t)),[e,n]},Ut={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},Tt=function(e,r,t,n){void 0===n&&(n="svg");var o=Ut[n],i=Yt(r-Math.PI/2,e),a=i.x,l=i.y,d=Lt(r),u=o.align.center,c=o.baseline.bottom;return t>0?(u=o.align.right,c=o.baseline.center):t<0&&(u=o.align.left,c=o.baseline.center),0!==t&&d>180&&(d-=180,u=u===o.align.right?o.align.left:o.align.right),{x:a,y:l,rotate:d+=t,align:u,baseline:c}},Ft={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},Xt=d((function(e){var r=e.id,t=e.spacing,n=void 0===t?Ft.spacing:t,o=e.rotation,i=void 0===o?Ft.rotation:o,a=e.background,l=void 0===a?Ft.background:a,d=e.color,u=void 0===d?Ft.color:d,c=e.lineWidth,s=void 0===c?Ft.lineWidth:c,f=Math.round(i)%360,h=Math.abs(n);f>180?f-=360:f>90?f-=180:f<-180?f+=360:f<-90&&(f+=180);var p,g=h,b=h;return 0===f?p="\n                M 0 0 L "+g+" 0\n                M 0 "+b+" L "+g+" "+b+"\n            ":90===f?p="\n                M 0 0 L 0 "+b+"\n                M "+g+" 0 L "+g+" "+b+"\n            ":(g=Math.abs(h/Math.sin(At(f))),b=h/Math.sin(At(90-f)),p=f>0?"\n                    M 0 "+-b+" L "+2*g+" "+b+"\n                    M "+-g+" "+-b+" L "+g+" "+b+"\n                    M "+-g+" 0 L "+g+" "+2*b+"\n                ":"\n                    M "+-g+" "+b+" L "+g+" "+-b+"\n                    M "+-g+" "+2*b+" L "+2*g+" "+-b+"\n                    M 0 "+2*b+" L "+2*g+" 0\n                "),M("pattern",{id:r,width:g,height:b,patternUnits:"userSpaceOnUse",children:[O("rect",{width:g,height:b,fill:l,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),O("path",{d:p,strokeWidth:s,stroke:u,strokeLinecap:"square"})]})})),Ht=function(e,r){return void 0===r&&(r={}),at({id:e,type:"patternLines"},r)},Kt={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Nt=d((function(e){var r=e.id,t=e.color,n=void 0===t?Kt.color:t,o=e.background,i=void 0===o?Kt.background:o,a=e.size,l=void 0===a?Kt.size:a,d=e.padding,u=void 0===d?Kt.padding:d,c=e.stagger,s=void 0===c?Kt.stagger:c,f=l+u,h=u/2;return!0===s&&(f=2*l+2*u),M("pattern",{id:r,width:f,height:f,patternUnits:"userSpaceOnUse",children:[O("rect",{width:f,height:f,fill:i}),O("rect",{x:h,y:h,width:l,height:l,fill:n}),s&&O("rect",{x:1.5*u+l,y:1.5*u+l,width:l,height:l,fill:n})]})})),$t=function(e,r){return void 0===r&&(r={}),at({id:e,type:"patternSquares"},r)},Jt={patternDots:Gt,patternLines:Xt,patternSquares:Nt},Qt=["type"],Vt=at({},Pt,Jt),Zt=d((function(e){var r=e.defs;return!r||r.length<1?null:O("defs",{"aria-hidden":!0,children:r.map((function(e){var r=e.type,t=lt(e,Qt);return Vt[r]?u(Vt[r],at({key:t.id},t)):null}))})})),en=function(e){var r=e.width,t=e.height,n=e.margin,o=e.defs,i=e.children,a=e.role,l=e.ariaLabel,d=e.ariaLabelledBy,u=e.ariaDescribedBy,c=e.isFocusable,s=m();return M("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:t,role:a,"aria-label":l,"aria-labelledby":d,"aria-describedby":u,focusable:c,tabIndex:c?0:void 0,children:[O(Zt,{defs:o}),O("rect",{width:r,height:t,fill:s.background}),O("g",{transform:"translate("+n.left+","+n.top+")",children:i})]})},rn=d((function(e){var r=e.size,t=e.color,n=e.borderWidth,o=e.borderColor;return O("circle",{r:r/2,fill:t,stroke:o,strokeWidth:n,style:{pointerEvents:"none"}})})),tn=d((function(e){var r=e.x,t=e.y,n=e.symbol,o=void 0===n?rn:n,a=e.size,l=e.datum,d=e.color,c=e.borderWidth,s=e.borderColor,f=e.label,h=e.labelTextAnchor,p=void 0===h?"middle":h,g=e.labelYOffset,b=void 0===g?-12:g,y=e.ariaLabel,_=e.ariaLabelledBy,k=e.ariaDescribedBy,j=e.ariaHidden,C=e.ariaDisabled,z=e.isFocusable,B=void 0!==z&&z,P=e.tabIndex,R=void 0===P?0:P,G=e.onFocus,W=e.onBlur,I=e.testId,A=m(),L=Lr(),S=L.animate,Y=L.config,q=w({transform:"translate("+r+", "+t+")",config:Y,immediate:!S}),D=i((function(e){null==G||G(l,e)}),[G,l]),E=i((function(e){null==W||W(l,e)}),[W,l]);return M(x.g,{transform:q.transform,style:{pointerEvents:"none"},focusable:B,tabIndex:B?R:void 0,"aria-label":y,"aria-labelledby":_,"aria-describedby":k,"aria-disabled":C,"aria-hidden":j,onFocus:B&&G?D:void 0,onBlur:B&&W?E:void 0,"data-testid":I,children:[u(o,{size:a,color:d,datum:l,borderWidth:c,borderColor:s}),f&&O("text",{textAnchor:p,y:b,style:v(A.dots.text),children:f})]})})),nn=d((function(e){var r=e.width,t=e.height,n=e.axis,o=e.scale,i=e.value,a=e.lineStyle,l=e.textStyle,d=e.legend,u=e.legendNode,c=e.legendPosition,s=void 0===c?"top-right":c,f=e.legendOffsetX,h=void 0===f?14:f,p=e.legendOffsetY,g=void 0===p?14:p,b=e.legendOrientation,v=void 0===b?"horizontal":b,y=m(),_=0,w=0,k=0,x=0;if("y"===n?(k=o(i),w=r):(_=o(i),x=t),d&&!u){var j=function(e){var r=e.axis,t=e.width,n=e.height,o=e.position,i=e.offsetX,a=e.offsetY,l=e.orientation,d=0,u=0,c="vertical"===l?-90:0,s="start";if("x"===r)switch(o){case"top-left":d=-i,u=a,s="end";break;case"top":u=-a,s="horizontal"===l?"middle":"start";break;case"top-right":d=i,u=a,s="horizontal"===l?"start":"end";break;case"right":d=i,u=n/2,s="horizontal"===l?"start":"middle";break;case"bottom-right":d=i,u=n-a,s="start";break;case"bottom":u=n+a,s="horizontal"===l?"middle":"end";break;case"bottom-left":u=n-a,d=-i,s="horizontal"===l?"end":"start";break;case"left":d=-i,u=n/2,s="horizontal"===l?"end":"middle"}else switch(o){case"top-left":d=i,u=-a,s="start";break;case"top":d=t/2,u=-a,s="horizontal"===l?"middle":"start";break;case"top-right":d=t-i,u=-a,s="horizontal"===l?"end":"start";break;case"right":d=t+i,s="horizontal"===l?"start":"middle";break;case"bottom-right":d=t-i,u=a,s="end";break;case"bottom":d=t/2,u=a,s="horizontal"===l?"middle":"end";break;case"bottom-left":d=i,u=a,s="horizontal"===l?"start":"end";break;case"left":d=-i,s="horizontal"===l?"end":"middle"}return{x:d,y:u,rotation:c,textAnchor:s}}({axis:n,width:r,height:t,position:s,offsetX:h,offsetY:g,orientation:v});u=O("text",{transform:"translate("+j.x+", "+j.y+") rotate("+j.rotation+")",textAnchor:j.textAnchor,dominantBaseline:"central",style:l,children:d})}return M("g",{transform:"translate("+_+", "+k+")",children:[O("line",{x1:0,x2:w,y1:0,y2:x,stroke:y.markers.lineColor,strokeWidth:y.markers.lineStrokeWidth,style:a}),u]})})),on=d((function(e){var r=e.markers,t=e.width,n=e.height,o=e.xScale,i=e.yScale;return r&&0!==r.length?r.map((function(e,r){return O(nn,at({},e,{width:t,height:n,scale:"y"===e.axis?i:o}),r)})):null})),an=["theme","renderWrapper","animate","motionConfig"],ln=function(e){return function(r){function t(){return r.apply(this,arguments)||this}var n,o;return o=r,(n=t).prototype=Object.create(o.prototype),n.prototype.constructor=n,dt(n,o),t.prototype.render=function(){var r=this.props,t=r.theme,n=r.renderWrapper,o=r.animate,i=r.motionConfig,a=lt(r,an);return O(qr,{theme:t,renderWrapper:n,isInteractive:a.isInteractive,animate:o,motionConfig:i,children:O(e,at({},a))})},t}(c)},dn=function(e,r){var t,n=Mr(e)?e:function(r){return zr(r,e)};return r&&(t=Mr(r)?r:jr(r)),t?function(e){return t(n(e))}:n},un=function(e){return Mr(e)?e:function(r){return zr(r,e)}},cn=function(e){return r((function(){return un(e)}),[e])},sn=["center","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],fn=function(e,r,t){var n=r.width-e.width,o=r.height-e.height,i=0,a=0;return"center"===t&&(i=n/2,a=o/2),"top"===t&&(i=n/2),"top-right"===t&&(i=n),"right"===t&&(i=n,a=o/2),"bottom-right"===t&&(i=n,a=o),"bottom"===t&&(i=n/2,a=o),"bottom-left"===t&&(a=o),"left"===t&&(a=o/2),[i,a]},hn=function(e,r,t,n){return Math.sqrt(Math.pow(t-e,2)+Math.pow(n-r,2))},pn=function(e,r,t,n){var o=Math.atan2(n-r,t-e)-Math.PI/2;return o>0?o:2*Math.PI+o},gn=function(e,r,t,n,o,i){return e<=o&&o<=e+t&&r<=i&&i<=r+n},bn=function(e,r){var t,n="touches"in r?r.touches[0]:r,o=n.clientX,i=n.clientY,a=e.getBoundingClientRect(),l=(t=void 0!==e.getBBox?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===a.width?1:t.width/a.width;return[(o-a.left)*l,(i-a.top)*l]},mn=Object.keys(Pt),vn=Object.keys(Jt),yn=function(e,r,t){if("*"===e)return!0;if(Mr(e))return e(r);if(Br(e)){var n=t?zr(r,t):r;return Rr(Pr(n,Object.keys(e)),e)}return!1},_n=function(e,r,t,n){var o=void 0===n?{}:n,i=o.dataKey,a=o.colorKey,l=void 0===a?"color":a,d=o.targetKey,u=void 0===d?"fill":d,c=[],s={};return e.length&&r.length&&(c=[].concat(e),r.forEach((function(r){for(var n,o=function(){var t=n.value,o=t.id,a=t.match;if(yn(a,r,i)){var d=e.find((function(e){return e.id===o}));if(d)if(vn.includes(d.type))if("inherit"===d.background||"inherit"===d.color){var f=zr(r,l),h=d.background,p=d.color,g=o;"inherit"===d.background&&(g=g+".bg."+f,h=f),"inherit"===d.color&&(g=g+".fg."+f,p=f),Gr(r,u,"url(#"+g+")"),s[g]||(c.push(at({},d,{id:g,background:h,color:p})),s[g]=1)}else Gr(r,u,"url(#"+o+")");else if(mn.includes(d.type)){if(d.colors.map((function(e){return e.color})).includes("inherit")){var b=zr(r,l),m=o,v=at({},d,{colors:d.colors.map((function(e,r){return"inherit"!==e.color?e:(m=m+"."+r+"."+b,at({},e,{color:"inherit"===e.color?b:e.color}))}))});v.id=m,Gr(r,u,"url(#"+m+")"),s[m]||(c.push(v),s[m]=1)}else Gr(r,u,"url(#"+o+")")}return 1}},a=it(t);!(n=a()).done&&!o(););}))),c};function wn(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(e){for(var t=0,n=r;t<n.length;t++){var o=n[t];"function"==typeof o?o(e):null!=o&&(o.current=e)}}}export{on as CartesianMarkers,nn as CartesianMarkersItem,qr as Container,Zt as Defs,tn as DotsItem,Ur as LegacyContainer,zt as LinearGradient,Ar as MotionConfigProvider,Gt as PatternDots,Rt as PatternDotsDefaultProps,Xt as PatternLines,Ft as PatternLinesDefaultProps,Nt as PatternSquares,Kt as PatternSquaresDefaultProps,jt as ResponsiveWrapper,en as SvgWrapper,It as TWO_PI,qt as absoluteAngleDegrees,fn as alignBox,Kr as areaCurvePropKeys,_n as bindDefs,tt as blendModes,sn as boxAlignments,Et as clampArc,Hr as closedCurvePropKeys,gt as colorInterpolatorIds,pt as colorInterpolators,ht as colorSchemeIds,$r as curveFromProp,Xr as curvePropKeys,Fr as curvePropMapping,vt as defaultAnimate,yt as defaultCategoricalColors,_t as defaultColorRange,wt as defaultMargin,At as degreesToRadians,pn as getAngle,mt as getColorScale,hn as getDistance,dn as getLabelGenerator,Tt as getPolarLabelProps,un as getPropertyAccessor,bn as getRelativeCursor,Ot as getValueFormatter,Pt as gradientTypes,st as guessQuantizeColorScale,gn as isCursorInRect,yn as isMatchingDef,Nr as lineCurvePropKeys,Bt as linearGradientDef,wn as mergeRefs,St as midAngle,Wr as motionConfigContext,Ir as motionDefaultProps,bt as nivoCategoricalColors,Dr as noop,Dt as normalizeAngle,Wt as patternDotsDef,Ht as patternLinesDef,$t as patternSquaresDef,Jt as patternTypes,Yt as positionFromAngle,ut as quantizeColorScales,ct as quantizeColorScalesKeys,Lt as radiansToDegrees,rt as stackOffsetFromProp,et as stackOffsetPropKeys,Zr as stackOffsetPropMapping,Vr as stackOrderFromProp,Qr as stackOrderPropKeys,Jr as stackOrderPropMapping,Ut as textPropsByEngine,Tr as useAnimatedPath,nt as useCurveInterpolation,kt as useDimensions,xt as useMeasure,Lr as useMotionConfig,cn as usePropertyAccessor,Mt as useValueFormatter,ln as withContainer};
//# sourceMappingURL=nivo-core.mjs.map
