import{useMemo as e,createElement as o,useCallback as n,useState as i,memo as t,Fragment as r,useRef as l,useEffect as s}from"react";import{usePropertyAccessor as a,degreesToRadians as u,useMotionConfig as d,Container as c,useDimensions as h,SvgWrapper as f,ResponsiveWrapper as v}from"@nivo/core";import{animated as g,to as k,useTransition as p}from"@react-spring/web";import{hierarchy as m,tree as b,cluster as M}from"d3-hierarchy";import{scaleLinear as y}from"d3-scale";import{link as C,curveLinear as L,curveBumpY as x,curveBumpX as D,curveStep as N,curveStepBefore as A,curveStepAfter as w}from"d3-shape";import{useTheme as U}from"@nivo/theming";import{useTooltip as T}from"@nivo/tooltip";import{useOrdinalColorScale as z,useInheritedColor as I}from"@nivo/colors";import{jsx as P,Fragment as S}from"react/jsx-runtime";import{Text as E,drawCanvasText as B,setCanvasFont as O}from"@nivo/text";import{Mesh as R,useMesh as W,renderDebugToCanvas as G}from"@nivo/voronoi";function H(){return H=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},H.apply(null,arguments)}function X(e,o){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==o.indexOf(i))continue;n[i]=e[i]}return n}var Y=function(o){var n=o.data,i=o.mode,t=o.getIdentity;return e((function(){var e=m(n),o="tree"===i?b():M();return e.eachBefore((function(e){var o=e.ancestors().filter((function(o){return o!==e})).reverse(),n=o.map((function(e){return t(e.data)}));e.ancestorIds=n,e.uid=[].concat(n,[t(e.data)]).join("."),e.ancestorUids=o.map((function(e){return e.uid}))})),e.each((function(e){e.descendantUids=e.descendants().filter((function(o){return o!==e})).map((function(e){return e.uid}))})),o(e),e}),[n,i,t])},j=function(o){return e((function(){return void 0===o?function(e){return e.size}:"function"==typeof o?o:function(){return o}}),[o])},F=function(o){var n,t=o.root,r=o.xScale,l=o.yScale,s=o.layout,a=o.getIdentity,u=o.nodeSize,d=o.activeNodeSize,c=o.inactiveNodeSize,h=o.nodeColor,f=o.fixNodeColorAtDepth,v=e((function(){return t.descendants().map((function(e){var o,n;"top-to-bottom"===s||"bottom-to-top"===s?(o=r(e.x),n=l(e.y)):(o=r(e.y),n=l(e.x));var i=a(e.data);return{path:[].concat(e.ancestorIds,[i]),uid:e.uid,isRoot:0===e.depth,isLeaf:0===e.height,ancestorIds:e.ancestorIds,ancestorUids:e.ancestorUids,descendantUids:e.descendantUids,id:i,data:e.data,depth:e.depth,height:e.height,x:o,y:n}}))}),[t,a,s,r,l]),g=e((function(){return"function"==typeof n?n:function(){return n}}),[n=u]),k=j(d),p=j(c),m=z(h,"uid"),b=e((function(){return f===1/0?m:function(e,o){if(e.depth<=0||e.depth<=f||0===e.ancestorUids.length)return m(e);var n=o[e.ancestorUids[e.ancestorUids.length-1]];return void 0===n?m(e):n.color}}),[m,f]),M=i([]),y=M[0],C=M[1],L=e((function(){var e={};return{nodes:v.map((function(o){var n=H({},o,{size:g(o),color:b(o,e),isActive:null});return y.length>0&&(n.isActive=y.includes(n.uid),n.isActive?n.size=k(n):n.size=p(n)),e[n.uid]=n,n})),nodeByUid:e}}),[v,g,k,p,b,y]);return H({},L,{activeNodeUids:y,setActiveNodeUids:C})},q=function(o){return e((function(){return void 0===o?function(e){return e.thickness}:"function"==typeof o?o:function(){return o}}),[o])},J=function(o){var t=o.data,r=o.width,l=o.height,s=o.identity,u=void 0===s?V.identity:s,d=o.mode,c=void 0===d?V.mode:d,h=o.layout,f=void 0===h?V.layout:h,v=o.nodeSize,g=void 0===v?V.nodeSize:v,k=o.activeNodeSize,p=o.inactiveNodeSize,m=o.nodeColor,b=void 0===m?V.nodeColor:m,M=o.fixNodeColorAtDepth,T=void 0===M?V.fixNodeColorAtDepth:M,z=o.highlightAncestorNodes,P=void 0===z?V.highlightAncestorNodes:z,S=o.highlightDescendantNodes,E=void 0===S?V.highlightDescendantNodes:S,B=o.linkCurve,O=void 0===B?V.linkCurve:B,R=o.linkThickness,W=void 0===R?V.linkThickness:R,G=o.linkColor,X=void 0===G?V.linkColor:G,j=o.activeLinkThickness,J=o.inactiveLinkThickness,K=o.highlightAncestorLinks,Q=void 0===K?V.highlightAncestorLinks:K,Z=o.highlightDescendantLinks,$=void 0===Z?V.highlightDescendantLinks:Z,_=a(u),ee=Y({data:t,mode:c,getIdentity:_}),oe=function(o){var n=o.width,i=o.height,t=o.layout;return e((function(){var e=y().domain([0,1]),o=y().domain([0,1]);return"top-to-bottom"===t?(e.range([0,n]),o.range([0,i])):"right-to-left"===t?(e.range([n,0]),o.range([0,i])):"bottom-to-top"===t?(e.range([n,0]),o.range([i,0])):"left-to-right"===t&&(e.range([0,n]),o.range([i,0])),{xScale:e,yScale:o}}),[n,i,t])}({width:r,height:l,layout:f}),ne=oe.xScale,ie=oe.yScale,te=F({root:ee,xScale:ne,yScale:ie,layout:f,getIdentity:_,nodeSize:g,activeNodeSize:k,inactiveNodeSize:p,nodeColor:b,fixNodeColorAtDepth:T}),re=te.nodes,le=te.nodeByUid,se=te.activeNodeUids,ae=te.setActiveNodeUids,ue=function(o){var n=o.layout,i=o.curve;return e((function(){var e=L;return"bump"===i?e="top-to-bottom"===n||"bottom-to-top"===n?x:D:"step"===i?e=N:"step-before"===i?e=A:"step-after"===i&&(e=w),C(e)}),[n,i])}({layout:f,curve:O}),de=function(o){var n=o.root,t=o.nodeByUid,r=o.activeNodeUids,l=o.linkThickness,s=o.activeLinkThickness,a=o.inactiveLinkThickness,u=o.linkColor,d=e((function(){return n.links().map((function(e){return{id:e.source.uid+":"+e.target.uid,source:t[e.source.uid],target:t[e.target.uid]}}))}),[n,t]),c=e((function(){return"function"==typeof l?l:function(){return l}}),[l]),h=q(s),f=q(a),v=U(),g=I(u,v),k=i([]),p=k[0],m=k[1];return{links:e((function(){return d.map((function(e){var o=H({},e,{thickness:c(e),color:g(e),isActive:null});return r.length>0&&(o.isActive=p.includes(o.id),o.isActive?o.thickness=h(o):o.thickness=f(o)),o}))}),[d,c,h,f,g,r.length,p]),setActiveLinkIds:m}}({root:ee,nodeByUid:le,activeNodeUids:se,linkThickness:W,activeLinkThickness:j,inactiveLinkThickness:J,linkColor:X}),ce=de.links,he=function(e){var o=e.setActiveNodeUids,i=e.highlightAncestorNodes,t=e.highlightDescendantNodes,r=e.links,l=e.setActiveLinkIds,s=e.highlightAncestorLinks,a=e.highlightDescendantLinks;return n((function(e){if(null===e)o([]),l([]);else{var n=[e.uid];i&&(n=[].concat(n,e.ancestorUids)),t&&(n=[].concat(n,e.descendantUids)),o(n);var u=[];s&&r.filter((function(o){return o.target.uid===e.uid||e.ancestorUids.includes(o.target.uid)})).forEach((function(e){u.push(e.id)})),a&&r.filter((function(o){return o.source.uid===e.uid||e.descendantUids.includes(o.source.uid)})).forEach((function(e){u.push(e.id)})),l(u)}}),[o,i,t,r,l,s,a])}({setActiveNodeUids:ae,highlightAncestorNodes:P,highlightDescendantNodes:E,links:ce,setActiveLinkIds:de.setActiveLinkIds,highlightAncestorLinks:Q,highlightDescendantLinks:$});return{nodes:re,nodeByUid:le,links:ce,linkGenerator:ue,setCurrentNode:he}},K=function(i,t){var r=t.isInteractive,l=t.onMouseEnter,s=t.onMouseMove,a=t.onMouseLeave,u=t.onMouseDown,d=t.onMouseUp,c=t.onClick,h=t.onDoubleClick,f=t.setCurrentNode,v=t.tooltip,g=t.tooltipPosition,k=t.tooltipAnchor,p=t.margin,m=T(),b=m.showTooltipFromEvent,M=m.showTooltipAt,y=m.hideTooltip,C=e((function(){if(v)return"fixed"===g?function(){var e=i.x,n=i.y;M(o(v,{node:i}),[e+p.left,n+p.top],k)}:function(e){b(o(v,{node:i}),e,k)}}),[i,v,b,M,g,k,p]),L=n((function(e){f(i),null==C||C(e),null==l||l(i,e)}),[i,C,f,l]),x=n((function(e){null==C||C(e),null==s||s(i,e)}),[i,C,s]),D=n((function(e){f(null),y(),null==a||a(i,e)}),[i,y,f,a]),N=n((function(e){null==u||u(i,e)}),[i,u]),A=n((function(e){null==d||d(i,e)}),[i,d]),w=n((function(e){null==c||c(i,e)}),[i,c]),U=n((function(e){null==h||h(i,e)}),[i,h]);return{onMouseEnter:r?L:void 0,onMouseMove:r?x:void 0,onMouseLeave:r?D:void 0,onMouseDown:r?N:void 0,onMouseUp:r?A:void 0,onClick:r?w:void 0,onDoubleClick:r?U:void 0}},Q=function(i,t){var r=t.isInteractive,l=t.onMouseEnter,s=t.onMouseMove,a=t.onMouseLeave,u=t.onMouseDown,d=t.onMouseUp,c=t.onClick,h=t.onDoubleClick,f=t.tooltip,v=t.tooltipAnchor,g=T(),k=g.showTooltipFromEvent,p=g.hideTooltip,m=e((function(){if(f)return function(e){k(o(f,{link:i}),e,v)}}),[i,f,k,v]),b=n((function(e){null==m||m(e),null==l||l(i,e)}),[i,m,l]),M=n((function(e){null==m||m(e),null==s||s(i,e)}),[i,m,s]),y=n((function(e){p(),null==a||a(i,e)}),[i,p,a]),C=n((function(e){null==u||u(i,e)}),[i,u]),L=n((function(e){null==d||d(i,e)}),[i,d]),x=n((function(e){null==c||c(i,e)}),[i,c]),D=n((function(e){null==h||h(i,e)}),[i,h]);return{onMouseEnter:r?b:void 0,onMouseMove:r?M:void 0,onMouseLeave:r?y:void 0,onMouseDown:r?C:void 0,onMouseUp:r?L:void 0,onClick:r?x:void 0,onDoubleClick:r?D:void 0}},V={identity:"id",mode:"dendogram",layout:"top-to-bottom",nodeSize:12,nodeColor:{scheme:"nivo"},fixNodeColorAtDepth:1/0,linkCurve:"bump",linkThickness:1,linkColor:{from:"source.color",modifiers:[["opacity",.4]]},enableLabel:!0,label:"id",labelsPosition:"outward",orientLabel:!0,labelOffset:6,isInteractive:!0,useMesh:!0,meshDetectionRadius:1/0,debugMesh:!1,highlightAncestorNodes:!0,highlightDescendantNodes:!1,highlightAncestorLinks:!0,highlightDescendantLinks:!1,nodeTooltipPosition:"fixed",nodeTooltipAnchor:"top",role:"img",animate:!0,motionConfig:"gentle"},Z=H({},V,{layers:["links","nodes","labels","mesh"],nodeComponent:function(e){var o=e.node,n=e.isInteractive,i=e.onMouseEnter,t=e.onMouseMove,r=e.onMouseLeave,l=e.onMouseDown,s=e.onMouseUp,a=e.onClick,u=e.onDoubleClick,d=e.setCurrentNode,c=e.tooltip,h=e.tooltipPosition,f=e.tooltipAnchor,v=e.margin,k=e.animatedProps,p=K(o,{isInteractive:n,onMouseEnter:i,onMouseMove:t,onMouseLeave:r,onMouseDown:l,onMouseUp:s,onClick:a,onDoubleClick:u,setCurrentNode:d,tooltip:c,tooltipPosition:h,tooltipAnchor:f,margin:v});return P(g.circle,H({"data-testid":"node."+o.uid,r:k.size.to((function(e){return e/2})),fill:k.color,cx:k.x,cy:k.y},p))},linkComponent:function(e){var o=e.link,n=e.linkGenerator,i=e.isInteractive,t=e.onMouseEnter,r=e.onMouseMove,l=e.onMouseLeave,s=e.onMouseDown,a=e.onMouseUp,u=e.onClick,d=e.onDoubleClick,c=e.tooltip,h=e.tooltipAnchor,f=e.animatedProps,v=Q(o,{isInteractive:i,onMouseEnter:t,onMouseMove:r,onMouseLeave:l,onMouseDown:s,onMouseUp:a,onClick:u,onDoubleClick:d,tooltip:c,tooltipAnchor:h});return P(g.path,H({"data-testid":"link."+o.id,d:k([f.sourceX,f.sourceY,f.targetX,f.targetY],(function(e,o,i,t){return n({source:[e,o],target:[i,t]})})),fill:"none",strokeWidth:f.thickness,stroke:f.color},v))},labelComponent:function(e){var o=e.label,n=e.animatedProps,i=U();return P(g.g,{"data-testid":"label."+o.id,transform:k([n.x,n.y],(function(e,o){return"translate("+e+","+o+")"})),children:P(g.g,{transform:n.rotation.to((function(e){return"rotate("+e+")"})),children:P(E,{"data-testid":"label."+o.id+".label",style:i.labels.text,textAnchor:o.textAnchor,dominantBaseline:o.baseline,children:o.label})})})},linkTooltipAnchor:"top"}),$=H({},V,{layers:["links","nodes","labels","mesh"],renderNode:function(e,o){var n=o.node;e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.fillStyle=n.color,e.fill()},renderLink:function(e,o){var n=o.link,i=o.linkGenerator;e.strokeStyle=n.color,e.lineWidth=n.thickness,e.beginPath(),i({source:[n.source.x,n.source.y],target:[n.target.x,n.target.y]}),e.stroke()},renderLabel:function(e,o){var n=o.label,i=o.theme;e.save(),e.translate(n.x,n.y),e.rotate(u(n.rotation)),e.textBaseline="middle",e.textAlign="middle"===n.textAnchor?"center":n.textAnchor,e.fillStyle="#000",B(e,i.labels.text,n.label),e.restore()},pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),_=function(e){return{sourceX:e.source.x,sourceY:e.source.y,targetX:e.target.x,targetY:e.target.y,thickness:e.thickness,color:e.color}},ee=function(e){return{sourceX:e.source.x,sourceY:e.source.y,targetX:e.target.x,targetY:e.target.y,thickness:e.thickness,color:e.color}},oe=function(e){var n=e.links,i=e.linkComponent,t=e.linkGenerator,r=e.isInteractive,l=e.onMouseEnter,s=e.onMouseMove,a=e.onMouseLeave,u=e.onMouseDown,c=e.onMouseUp,h=e.onClick,f=e.onDoubleClick,v=e.tooltip,g=e.tooltipAnchor,k=d(),m=k.animate,b=k.config,M=p(n,{keys:function(e){return e.id},from:_,enter:_,update:_,leave:ee,config:b,immediate:!m});return P(S,{children:M((function(e,n){return o(i,{link:n,linkGenerator:t,animatedProps:e,isInteractive:r,onMouseEnter:l,onMouseMove:s,onMouseLeave:a,onMouseDown:u,onMouseUp:c,onClick:h,onDoubleClick:f,tooltip:v,tooltipAnchor:g})}))})},ne=function(e){return{x:e.x,y:e.y,size:e.size,color:e.color}},ie=function(e){return{x:e.x,y:e.y,size:0,color:e.color}},te=function(e){var n=e.nodes,i=e.nodeComponent,t=e.isInteractive,r=e.onMouseEnter,l=e.onMouseMove,s=e.onMouseLeave,a=e.onMouseDown,u=e.onMouseUp,c=e.onClick,h=e.onDoubleClick,f=e.setCurrentNode,v=e.tooltip,g=e.tooltipPosition,k=e.tooltipAnchor,m=e.margin,b=d(),M=b.animate,y=b.config,C=p(n,{keys:function(e){return e.uid},from:ne,enter:ne,update:ne,leave:ie,config:y,immediate:!M});return P(S,{children:C((function(e,n){return o(i,{node:n,isInteractive:t,onMouseEnter:r,onMouseMove:l,onMouseLeave:s,onMouseDown:a,onMouseUp:u,onClick:c,onDoubleClick:h,setCurrentNode:f,tooltip:v,tooltipPosition:g,tooltipAnchor:k,margin:m,animatedProps:e})}))})},re=function(e,o,n){return{x:e-n,y:o,rotation:0,textAnchor:"end",baseline:"middle"}},le=function(e,o,n){return{x:e+n,y:o,rotation:0,textAnchor:"start",baseline:"middle"}},se=function(e,o,n){return{x:e,y:o-n,rotation:0,textAnchor:"middle",baseline:"auto"}},ae=function(e,o,n){return{x:e,y:o-n,rotation:-90,textAnchor:"start",baseline:"middle"}},ue=function(e,o,n){return{x:e,y:o+n,rotation:0,textAnchor:"middle",baseline:"hanging"}},de=function(e,o,n){return{x:e,y:o+n,rotation:-90,textAnchor:"end",baseline:"middle"}},ce=function(e){var o=e.orient,n=e.offset;return function(e){var i=e.size/2+n;return e.isLeaf?o?ae(e.x,e.y,i):se(e.x,e.y,i):o?de(e.x,e.y,i):ue(e.x,e.y,i)}},he=function(e){var o=e.orient,n=e.offset;return function(e){var i=e.size/2+n;return e.isLeaf?o?de(e.x,e.y,i):ue(e.x,e.y,i):o?ae(e.x,e.y,i):se(e.x,e.y,i)}},fe=function(e){var o=e.orient,n=e.offset;return function(e){var i=e.size/2+n;return o?ae(e.x,e.y,i):se(e.x,e.y,i)}},ve=function(e){var o=e.orient,n=e.offset;return function(e){var i=e.size/2+n;return o?de(e.x,e.y,i):ue(e.x,e.y,i)}},ge=function(e){var o=e.offset;return function(e){var n=e.size/2+o;return e.isLeaf?re(e.x,e.y,n):le(e.x,e.y,n)}},ke=function(e){var o=e.offset;return function(e){var n=e.size/2+o;return e.isLeaf?le(e.x,e.y,n):re(e.x,e.y,n)}},pe=function(e){var o=e.offset;return function(e){return re(e.x,e.y,e.size/2+o)}},me=function(e){var o=e.offset;return function(e){return le(e.x,e.y,e.size/2+o)}},be=function(o){var n=o.nodes,i=o.label,t=o.layout,r=o.labelsPosition,l=o.orientLabel,s=o.labelOffset,u=a(i),d=function(o){var n=o.layout,i=o.labelsPosition,t=o.orientLabel,r=o.labelOffset;return e((function(){var e={orient:t,offset:r};if("top-to-bottom"===n){if("outward"===i)return he(e);if("inward"===i)return ce(e);if("layout"===i)return ve(e);if("layout-opposite"===i)return fe(e)}if("bottom-to-top"===n){if("outward"===i)return ce(e);if("inward"===i)return he(e);if("layout"===i)return fe(e);if("layout-opposite"===i)return ve(e)}if("right-to-left"===n){if("outward"===i)return ge(e);if("inward"===i)return ke(e);if("layout"===i)return pe(e);if("layout-opposite"===i)return me(e)}if("left-to-right"===n){if("outward"===i)return ke(e);if("inward"===i)return ge(e);if("layout"===i)return me(e);if("layout-opposite"===i)return pe(e)}}),[n,i,t,r])}({layout:t,labelsPosition:r,orientLabel:l,labelOffset:s});if(void 0===d)throw new Error("Unable to determine the logic to compute labels position");return e((function(){return n.map((function(e){return H({id:e.uid,node:e,label:u(e)},d(e))}))}),[n,u,d])},Me=function(e){return{x:e.x,y:e.y,rotation:e.rotation}},ye=function(e){return{x:e.x,y:e.y,rotation:e.rotation}},Ce=function(e){var n=e.nodes,i=e.label,t=e.layout,r=e.labelsPosition,l=e.orientLabel,s=e.labelOffset,a=e.labelComponent,u=be({nodes:n,label:i,layout:t,labelsPosition:r,orientLabel:l,labelOffset:s}),c=d(),h=c.animate,f=c.config,v=p(u,{keys:function(e){return e.id},from:Me,enter:Me,update:Me,leave:ye,config:f,immediate:!h});return P("g",{style:{pointerEvents:"none"},children:v((function(e,n){return o(a,{label:n,animatedProps:e})}))})},Le=t((function(n){var i=n.nodes,t=n.width,r=n.height,l=n.margin,s=n.onMouseEnter,a=n.onMouseMove,u=n.onMouseLeave,d=n.onMouseDown,c=n.onMouseUp,h=n.onClick,f=n.onDoubleClick,v=n.setCurrentNode,g=n.tooltip,k=n.tooltipPosition,p=n.tooltipAnchor,m=n.detectionRadius,b=n.debug,M=e((function(){if(g)return function(e){return o(g,{node:e})}}),[g]);return P(R,{nodes:i,width:t,height:r,margin:l,detectionRadius:m,setCurrent:v,onMouseEnter:s,onMouseMove:a,onMouseLeave:u,onMouseDown:d,onMouseUp:c,onClick:h,onDoubleClick:f,tooltip:M,tooltipPosition:k,tooltipAnchor:p,debug:b})})),xe=["isInteractive","animate","motionConfig","theme","renderWrapper"],De=function(n){var i=n.width,t=n.height,l=n.margin,s=n.data,a=n.identity,u=n.mode,d=void 0===u?Z.mode:u,c=n.layout,v=void 0===c?Z.layout:c,g=n.nodeSize,k=void 0===g?Z.nodeSize:g,p=n.activeNodeSize,m=n.inactiveNodeSize,b=n.nodeColor,M=void 0===b?Z.nodeColor:b,y=n.fixNodeColorAtDepth,C=void 0===y?Z.fixNodeColorAtDepth:y,L=n.nodeComponent,x=void 0===L?Z.nodeComponent:L,D=n.linkCurve,N=void 0===D?Z.linkCurve:D,A=n.linkThickness,w=void 0===A?Z.linkThickness:A,U=n.activeLinkThickness,T=n.inactiveLinkThickness,z=n.linkColor,I=void 0===z?Z.linkColor:z,S=n.linkComponent,E=void 0===S?Z.linkComponent:S,B=n.enableLabel,O=void 0===B?Z.enableLabel:B,R=n.label,W=void 0===R?Z.label:R,G=n.labelsPosition,H=void 0===G?Z.labelsPosition:G,X=n.orientLabel,Y=void 0===X?Z.orientLabel:X,j=n.labelOffset,F=void 0===j?Z.labelOffset:j,q=n.labelComponent,K=void 0===q?Z.labelComponent:q,Q=n.layers,V=void 0===Q?Z.layers:Q,$=n.isInteractive,_=void 0===$?Z.isInteractive:$,ee=n.useMesh,ne=void 0===ee?Z.useMesh:ee,ie=n.meshDetectionRadius,re=void 0===ie?Z.meshDetectionRadius:ie,le=n.debugMesh,se=void 0===le?Z.debugMesh:le,ae=n.highlightAncestorNodes,ue=void 0===ae?Z.highlightAncestorNodes:ae,de=n.highlightDescendantNodes,ce=void 0===de?Z.highlightDescendantNodes:de,he=n.highlightAncestorLinks,fe=void 0===he?Z.highlightAncestorLinks:he,ve=n.highlightDescendantLinks,ge=void 0===ve?Z.highlightDescendantLinks:ve,ke=n.onNodeMouseEnter,pe=n.onNodeMouseMove,me=n.onNodeMouseLeave,be=n.onNodeMouseDown,Me=n.onNodeMouseUp,ye=n.onNodeClick,xe=n.onNodeDoubleClick,De=n.nodeTooltip,Ne=n.nodeTooltipPosition,Ae=void 0===Ne?Z.nodeTooltipPosition:Ne,we=n.nodeTooltipAnchor,Ue=void 0===we?Z.nodeTooltipAnchor:we,Te=n.onLinkMouseEnter,ze=n.onLinkMouseMove,Ie=n.onLinkMouseLeave,Pe=n.onLinkMouseDown,Se=n.onLinkMouseUp,Ee=n.onLinkClick,Be=n.onLinkDoubleClick,Oe=n.linkTooltip,Re=n.linkTooltipAnchor,We=void 0===Re?Z.linkTooltipAnchor:Re,Ge=n.role,He=void 0===Ge?Z.role:Ge,Xe=n.ariaLabel,Ye=n.ariaLabelledBy,je=n.ariaDescribedBy,Fe=h(i,t,l),qe=Fe.outerWidth,Je=Fe.outerHeight,Ke=Fe.margin,Qe=Fe.innerWidth,Ve=Fe.innerHeight,Ze=J({data:s,identity:a,layout:v,mode:d,width:Qe,height:Ve,nodeSize:k,activeNodeSize:p,inactiveNodeSize:m,nodeColor:M,fixNodeColorAtDepth:C,highlightAncestorNodes:ue,highlightDescendantNodes:ce,linkCurve:N,linkThickness:w,activeLinkThickness:U,inactiveLinkThickness:T,linkColor:I,highlightAncestorLinks:fe,highlightDescendantLinks:ge}),$e=Ze.nodes,_e=Ze.nodeByUid,eo=Ze.links,oo=Ze.linkGenerator,no=Ze.setCurrentNode,io={links:null,nodes:null,labels:null,mesh:null};V.includes("links")&&(io.links=P(oe,{links:eo,linkComponent:E,linkGenerator:oo,isInteractive:_,onMouseEnter:Te,onMouseMove:ze,onMouseLeave:Ie,onMouseDown:Pe,onMouseUp:Se,onClick:Ee,onDoubleClick:Be,tooltip:Oe,tooltipAnchor:We},"links")),V.includes("nodes")&&(io.nodes=P(te,{nodes:$e,nodeComponent:x,isInteractive:_,onMouseEnter:ke,onMouseMove:pe,onMouseLeave:me,onMouseDown:be,onMouseUp:Me,onClick:ye,onDoubleClick:xe,setCurrentNode:no,tooltip:De,tooltipPosition:Ae,tooltipAnchor:Ue,margin:Ke},"nodes")),V.includes("labels")&&O&&(io.labels=P(Ce,{label:W,nodes:$e,layout:v,labelsPosition:H,orientLabel:Y,labelOffset:F,labelComponent:K},"labels")),V.includes("mesh")&&_&&ne&&(io.mesh=P(Le,{nodes:$e,width:Qe,height:Ve,margin:Ke,detectionRadius:re,debug:se,onMouseEnter:ke,onMouseMove:pe,onMouseLeave:me,onMouseDown:be,onMouseUp:Me,onClick:ye,onDoubleClick:xe,tooltip:De,tooltipPosition:Ae,tooltipAnchor:Ue,setCurrentNode:no},"mesh"));var to=e((function(){return{nodes:$e,nodeByUid:_e,links:eo,innerWidth:Qe,innerHeight:Ve,linkGenerator:oo,setCurrentNode:no}}),[$e,_e,eo,Qe,Ve,oo,no]);return P(f,{width:qe,height:Je,margin:Ke,role:He,ariaLabel:Xe,ariaLabelledBy:Ye,ariaDescribedBy:je,children:V.map((function(e,n){var i;return"function"==typeof e?P(r,{children:o(e,to)},n):null!=(i=null==io?void 0:io[e])?i:null}))})},Ne=function(e){var o=e.isInteractive,n=void 0===o?Z.isInteractive:o,i=e.animate,t=void 0===i?Z.animate:i,r=e.motionConfig,l=void 0===r?Z.motionConfig:r,s=e.theme,a=e.renderWrapper,u=X(e,xe);return P(c,{animate:t,isInteractive:n,motionConfig:l,renderWrapper:a,theme:s,children:P(De,H({isInteractive:n},u))})},Ae=function(e){return P(v,{children:function(o){var n=o.width,i=o.height;return P(Ne,H({width:n,height:i},e))}})},we=["isInteractive","animate","motionConfig","theme","renderWrapper"],Ue=function(n){var i=n.width,t=n.height,r=n.pixelRatio,a=void 0===r?$.pixelRatio:r,u=n.margin,d=n.data,c=n.identity,f=n.mode,v=void 0===f?$.mode:f,g=n.layout,k=void 0===g?$.layout:g,p=n.nodeSize,m=void 0===p?$.nodeSize:p,b=n.activeNodeSize,M=n.inactiveNodeSize,y=n.nodeColor,C=void 0===y?$.nodeColor:y,L=n.fixNodeColorAtDepth,x=void 0===L?$.fixNodeColorAtDepth:L,D=n.renderNode,N=void 0===D?$.renderNode:D,A=n.linkCurve,w=void 0===A?$.linkCurve:A,T=n.linkThickness,z=void 0===T?$.linkThickness:T,I=n.activeLinkThickness,S=n.inactiveLinkThickness,E=n.linkColor,B=void 0===E?$.linkColor:E,R=n.renderLink,H=void 0===R?$.renderLink:R,X=n.enableLabel,Y=void 0===X?$.enableLabel:X,j=n.label,F=void 0===j?$.label:j,q=n.labelsPosition,K=void 0===q?$.labelsPosition:q,Q=n.orientLabel,V=void 0===Q?$.orientLabel:Q,Z=n.labelOffset,_=void 0===Z?$.labelOffset:Z,ee=n.renderLabel,oe=void 0===ee?$.renderLabel:ee,ne=n.layers,ie=void 0===ne?$.layers:ne,te=n.isInteractive,re=void 0===te?$.isInteractive:te,le=n.meshDetectionRadius,se=void 0===le?$.meshDetectionRadius:le,ae=n.debugMesh,ue=void 0===ae?$.debugMesh:ae,de=n.highlightAncestorNodes,ce=void 0===de?$.highlightAncestorNodes:de,he=n.highlightDescendantNodes,fe=void 0===he?$.highlightDescendantNodes:he,ve=n.highlightAncestorLinks,ge=void 0===ve?$.highlightAncestorLinks:ve,ke=n.highlightDescendantLinks,pe=void 0===ke?$.highlightDescendantLinks:ke,me=n.onNodeMouseEnter,Me=n.onNodeMouseMove,ye=n.onNodeMouseLeave,Ce=n.onNodeMouseDown,Le=n.onNodeMouseUp,xe=n.onNodeClick,De=n.onNodeDoubleClick,Ne=n.nodeTooltip,Ae=n.nodeTooltipPosition,we=void 0===Ae?$.nodeTooltipPosition:Ae,Ue=n.nodeTooltipAnchor,Te=void 0===Ue?$.nodeTooltipAnchor:Ue,ze=n.role,Ie=void 0===ze?$.role:ze,Pe=n.ariaLabel,Se=n.ariaLabelledBy,Ee=n.ariaDescribedBy,Be=l(null),Oe=h(i,t,u),Re=Oe.outerWidth,We=Oe.outerHeight,Ge=Oe.margin,He=Oe.innerWidth,Xe=Oe.innerHeight,Ye=U(),je=J({data:d,identity:c,layout:k,mode:v,width:He,height:Xe,nodeSize:m,activeNodeSize:b,inactiveNodeSize:M,nodeColor:C,fixNodeColorAtDepth:x,highlightAncestorNodes:ce,highlightDescendantNodes:fe,linkCurve:w,linkThickness:z,activeLinkThickness:I,inactiveLinkThickness:S,linkColor:B,highlightAncestorLinks:ge,highlightDescendantLinks:pe}),Fe=je.nodes,qe=je.nodeByUid,Je=je.links,Ke=je.linkGenerator,Qe=je.setCurrentNode,Ve=be({nodes:Fe,label:F,layout:k,labelsPosition:K,orientLabel:V,labelOffset:_}),Ze=e((function(){if(Ne)return function(e){return o(Ne,{node:e})}}),[Ne]),$e=W({elementRef:Be,nodes:Fe,width:He,height:Xe,margin:Ge,detectionRadius:se,isInteractive:re,setCurrent:Qe,onMouseEnter:me,onMouseMove:Me,onMouseLeave:ye,onMouseDown:Ce,onMouseUp:Le,onClick:xe,onDoubleClick:De,tooltip:Ze,tooltipPosition:we,tooltipAnchor:Te,debug:ue}),_e=$e.delaunay,eo=$e.voronoi,oo=$e.handleMouseEnter,no=$e.handleMouseMove,io=$e.handleMouseLeave,to=$e.handleMouseDown,ro=$e.handleMouseUp,lo=$e.handleClick,so=$e.handleDoubleClick,ao=$e.current,uo=e((function(){return{nodes:Fe,nodeByUid:qe,links:Je,innerWidth:He,innerHeight:Xe,linkGenerator:Ke}}),[Fe,qe,Je,He,Xe,Ke]);return s((function(){if(null!==Be.current){Be.current.width=Re*a,Be.current.height=We*a;var e=Be.current.getContext("2d");e.scale(a,a),e.fillStyle=Ye.background,e.fillRect(0,0,Re,We),e.translate(Ge.left,Ge.top),ie.forEach((function(o){"links"===o?(Ke.context(e),Je.forEach((function(o){H(e,{link:o,linkGenerator:Ke})}))):"nodes"===o?Fe.forEach((function(o){N(e,{node:o})})):"labels"===o&&Y?(O(e,Ye.labels.text),Ve.forEach((function(o){oe(e,{label:o,theme:Ye})}))):"mesh"===o&&ue&&eo?(e.save(),e.translate(-Ge.left,-Ge.top),G(e,{delaunay:_e,voronoi:eo,detectionRadius:se,index:null!==ao?ao[0]:null}),e.restore()):"function"==typeof o&&o(e,uo)}))}}),[Be,Re,We,a,Ge.left,Ge.top,Ye,ie,Fe,qe,N,Je,H,Ke,Ve,Y,oe,_e,eo,se,ue,ao,uo]),P("canvas",{ref:Be,width:Re*a,height:We*a,style:{width:Re,height:We,cursor:re?"auto":"normal"},onMouseEnter:oo,onMouseMove:no,onMouseLeave:io,onMouseDown:to,onMouseUp:ro,onClick:lo,onDoubleClick:so,role:Ie,"aria-label":Pe,"aria-labelledby":Se,"aria-describedby":Ee})},Te=function(e){var o=e.isInteractive,n=void 0===o?$.isInteractive:o,i=e.animate,t=void 0===i?$.animate:i,r=e.motionConfig,l=void 0===r?$.motionConfig:r,s=e.theme,a=e.renderWrapper,u=X(e,we);return P(c,{animate:t,isInteractive:n,motionConfig:l,renderWrapper:a,theme:s,children:P(Ue,H({isInteractive:n},u))})},ze=function(e){return P(v,{children:function(o){var n=o.width,i=o.height;return P(Te,H({width:n,height:i},e))}})};export{Ae as ResponsiveTree,ze as ResponsiveTreeCanvas,Ne as Tree,Te as TreeCanvas,$ as canvasDefaultProps,V as commonDefaultProps,Z as svgDefaultProps,be as useLabels,Q as useLinkMouseEventHandlers,K as useNodeMouseEventHandlers,Y as useRoot,J as useTree};
//# sourceMappingURL=nivo-tree.mjs.map
