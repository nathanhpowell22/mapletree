"use strict";var e=require("react"),t=require("@nivo/core"),o=require("lodash/omit.js"),n=require("lodash/cloneDeep.js"),i=require("lodash/startCase.js"),a=require("d3-hierarchy"),r=require("@nivo/theming"),l=require("@nivo/colors"),d=require("@nivo/tooltip"),s=require("@react-spring/web"),u=require("@nivo/text"),b=require("react/jsx-runtime");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},p.apply(null,arguments)}function c(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;o[n]=e[n]}return o}var v=function(e,t){return s.to([e,t],(function(e,t){return"translate("+e+","+t+")"}))},h=function(e,t){return s.to([e,t],(function(e,t){return"translate("+e+"px, "+t+"px)"}))},f=function(e,t,o){return s.to([e,t,o],(function(e,t,o){return"translate("+e+","+t+") rotate("+o+")"}))},m=function(e,t,o){return s.to([e,t,o],(function(e,t,o){return"translate("+e+"px,"+t+"px) rotate("+o+"deg)"}))},L=function(e,t,o){return s.to([e,t,o],(function(e,t,o){return"translate("+(e-(0===o?0:5))+"px,"+(t-(0===o?5:0))+"px) rotate("+o+"deg)"}))},g=e.memo((function(e){var t=e.node,o=e.animatedProps,n=e.borderWidth,i=e.enableLabel,a=e.enableParentLabel,l=e.labelSkipSize,d=r.useTheme(),c=i&&t.isLeaf&&(0===l||Math.min(t.width,t.height)>l),h=a&&t.isParent;return b.jsxs(s.animated.g,{transform:v(o.x,o.y),children:[b.jsx(s.animated.rect,{"data-testid":"node."+t.id,width:s.to(o.width,(function(e){return Math.max(e,0)})),height:s.to(o.height,(function(e){return Math.max(e,0)})),fill:t.fill?t.fill:o.color,strokeWidth:n,stroke:t.borderColor,fillOpacity:t.opacity,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick}),c&&b.jsx(u.Text,{"data-testid":"label."+t.id,textAnchor:"middle",dominantBaseline:"central",style:p({},d.labels.text,{fill:t.labelTextColor,pointerEvents:"none"}),fillOpacity:o.labelOpacity,transform:f(o.labelX,o.labelY,o.labelRotation),children:t.label}),h&&b.jsx(u.Text,{"data-testid":"parentLabel."+t.id,dominantBaseline:"central",style:p({},d.labels.text,{fill:t.parentLabelTextColor,pointerEvents:"none"}),fillOpacity:o.parentLabelOpacity,transform:f(o.parentLabelX,o.parentLabelY,o.parentLabelRotation),children:t.parentLabel})]})})),y=e.memo((function(e){var t=e.node;return b.jsx(d.BasicTooltip,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})})),x=e.memo((function(e){var t=e.node,o=e.animatedProps,n=e.borderWidth,i=e.enableLabel,a=e.enableParentLabel,l=e.labelSkipSize,d=r.useTheme(),u=i&&t.isLeaf&&(0===l||Math.min(t.width,t.height)>l),c=a&&t.isParent;return b.jsxs(s.animated.div,{"data-testid":"node."+t.id,id:t.path.replace(/[^\w]/gi,"-"),style:{boxSizing:"border-box",position:"absolute",top:0,left:0,transform:h(o.x,o.y),width:o.width,height:o.height,borderWidth:n,borderStyle:"solid",borderColor:t.borderColor,overflow:"hidden"},children:[b.jsx(s.animated.div,{style:{boxSizing:"border-box",position:"absolute",top:0,left:0,opacity:t.opacity,width:o.width,height:o.height,background:o.color},onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick}),u&&b.jsx(s.animated.span,{"data-testid":"label."+t.id,style:p({},d.labels.text,{position:"absolute",display:"flex",top:-5,left:-5,width:10,height:10,justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",color:t.labelTextColor,transformOrigin:"center center",transform:m(o.labelX,o.labelY,o.labelRotation),opacity:o.labelOpacity,pointerEvents:"none"}),children:t.label}),c&&b.jsx(s.animated.span,{"data-testid":"parentLabel."+t.id,style:p({},d.labels.text,{position:"absolute",display:"flex",justifyContent:"flex-start",alignItems:"center",whiteSpace:"nowrap",width:10,height:10,color:t.parentLabelTextColor,transformOrigin:"top left",transform:L(o.parentLabelX,o.parentLabelY,o.parentLabelRotation),opacity:o.parentLabelOpacity,pointerEvents:"none"}),children:t.parentLabel})]})})),C={layers:["nodes"],identity:"id",value:"value",tile:"squarify",leavesOnly:!1,innerPadding:0,outerPadding:0,colors:{scheme:"nivo"},colorBy:"pathComponents.1",nodeOpacity:.33,enableLabel:!0,label:"formattedValue",labelSkipSize:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},orientLabel:!0,enableParentLabel:!0,parentLabel:"id",parentLabelSize:20,parentLabelPosition:"top",parentLabelPadding:6,parentLabelTextColor:{from:"color",modifiers:[["darker",1]]},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,tooltip:y,role:"img",animate:!0,motionConfig:"gentle"},P=p({},C,{nodeComponent:g,defs:[],fill:[]}),M=p({},C,{nodeComponent:x}),w=p({},C,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),T={binary:a.treemapBinary,dice:a.treemapDice,slice:a.treemapSlice,sliceDice:a.treemapSliceDice,squarify:a.treemapSquarify},S=function(d){var s=d.data,u=d.width,b=d.height,c=d.identity,v=void 0===c?C.identity:c,h=d.value,f=void 0===h?C.value:h,m=d.valueFormat,L=d.leavesOnly,g=void 0===L?C.leavesOnly:L,y=d.tile,x=void 0===y?C.tile:y,P=d.innerPadding,M=void 0===P?C.innerPadding:P,w=d.outerPadding,S=void 0===w?C.outerPadding:w,k=d.label,O=void 0===k?C.label:k,j=d.orientLabel,W=void 0===j?C.orientLabel:j,I=d.enableParentLabel,R=void 0===I?C.enableParentLabel:I,z=d.parentLabel,E=void 0===z?C.parentLabel:z,B=d.parentLabelSize,D=void 0===B?C.parentLabelSize:B,q=d.parentLabelPosition,F=void 0===q?C.parentLabelPosition:q,X=d.parentLabelPadding,Y=void 0===X?C.parentLabelPadding:X,H=d.colors,A=void 0===H?C.colors:H,V=d.colorBy,N=void 0===V?C.colorBy:V,G=d.nodeOpacity,J=void 0===G?C.nodeOpacity:G,K=d.borderColor,Q=void 0===K?C.borderColor:K,U=d.labelTextColor,Z=void 0===U?C.labelTextColor:U,$=d.parentLabelTextColor,_=void 0===$?C.parentLabelTextColor:$,ee=t.usePropertyAccessor(v),te=t.usePropertyAccessor(f),oe=t.useValueFormatter(m),ne=t.usePropertyAccessor(O),ie=t.usePropertyAccessor(E),ae=function(t){var o=t.width,n=t.height,r=t.tile,l=t.innerPadding,d=t.outerPadding,s=t.enableParentLabel,u=t.parentLabelSize,b=t.parentLabelPosition,p=t.leavesOnly;return e.useMemo((function(){var e=a.treemap().size([o,n]).tile(T[r]).round(!0).paddingInner(l).paddingOuter(d);if(s&&!p){var t=u+2*d;e["padding"+i(b)](t)}return e}),[o,n,r,l,d,s,u,b,p])}({width:u,height:b,tile:x,innerPadding:M,outerPadding:S,enableParentLabel:R,parentLabelSize:D,parentLabelPosition:F,leavesOnly:g}),re=function(t){var o=t.root,n=t.getValue;return e.useMemo((function(){return a.hierarchy(o).sum(n)}),[o,n])}({root:s,getValue:te}),le=e.useMemo((function(){var e=n(re);return ae(e),g?e.leaves():e.descendants()}),[re,ae,g]),de=e.useMemo((function(){return le.map((function(e){var t=function(e,t){var o=e.ancestors().map((function(e){return t(e.data)})).reverse();return{path:o.join("."),pathComponents:o}}(e,ee),n=t.path,i=t.pathComponents,a={id:ee(e.data),path:n,pathComponents:i,data:o(e.data,"children"),x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0,value:e.value,formattedValue:oe(e.value),treeDepth:e.depth,treeHeight:e.height,isParent:e.height>0,isLeaf:0===e.height,parentLabelX:0,parentLabelY:0,parentLabelRotation:0};return a.labelRotation=W&&a.height>a.width?-90:0,"top"===F&&(a.parentLabelX=S+Y,a.parentLabelY=S+D/2),"right"===F&&(a.parentLabelX=a.width-S-D/2,a.parentLabelY=a.height-S-Y,a.parentLabelRotation=-90),"bottom"===F&&(a.parentLabelX=S+Y,a.parentLabelY=a.height-S-D/2),"left"===F&&(a.parentLabelX=S+D/2,a.parentLabelY=a.height-S-Y,a.parentLabelRotation=-90),a.label=ne(a),a.parentLabel=ie(a),a}))}),[le,ee,oe,ne,W,ie,D,F,Y,S]),se=r.useTheme(),ue=l.useOrdinalColorScale(A,N),be=l.useInheritedColor(Q,se),pe=l.useInheritedColor(Z,se),ce=l.useInheritedColor(_,se),ve=e.useMemo((function(){return de.map((function(e){var t=p({},e,{color:ue(e),opacity:J});return t.borderColor=be(t),t.labelTextColor=pe(t),t.parentLabelTextColor=ce(t),t}))}),[de,ue,J,be,pe,ce]);return{hierarchy:re,nodes:ve,layout:ae}},k=function(t,o){var n=o.isInteractive,i=o.onMouseEnter,a=o.onMouseMove,r=o.onMouseLeave,l=o.onClick,s=o.tooltip,u=d.useTooltip(),b=u.showTooltipFromEvent,c=u.hideTooltip,v=e.useCallback((function(t,o){b(e.createElement(s,{node:t}),o,"left")}),[b,s]),h=e.useCallback((function(e,t){v(e,t),null==i||i(e,t)}),[i,v]),f=e.useCallback((function(e,t){v(e,t),null==a||a(e,t)}),[a,v]),m=e.useCallback((function(e,t){c(),null==r||r(e,t)}),[r,c]),L=e.useCallback((function(e,t){null==l||l(e,t)}),[l]);return e.useMemo((function(){return t.map((function(e){return n?p({},e,{onMouseEnter:function(t){return h(e,t)},onMouseMove:function(t){return f(e,t)},onMouseLeave:function(t){return m(e,t)},onClick:function(t){return L(e,t)}}):e}))}),[n,t,h,f,m,L])},O=function(t){var o=t.nodes;return e.useMemo((function(){return{nodes:o}}),[o])},j=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,labelX:e.width/2,labelY:e.height/2,labelRotation:e.labelRotation,labelOpacity:1,parentLabelX:e.parentLabelX,parentLabelY:e.parentLabelY,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:1}},W=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2,width:0,height:0,color:e.color,labelX:0,labelY:0,labelRotation:e.labelRotation,labelOpacity:0,parentLabelX:0,parentLabelY:0,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:0}},I=e.memo((function(o){var n=o.nodes,i=o.nodeComponent,a=o.borderWidth,r=o.enableLabel,l=o.labelSkipSize,d=o.enableParentLabel,u=o.isInteractive,p=o.onMouseEnter,c=o.onMouseMove,v=o.onMouseLeave,h=o.onClick,f=o.tooltip,m=k(n,{isInteractive:u,onMouseEnter:p,onMouseMove:c,onMouseLeave:v,onClick:h,tooltip:f}),L=t.useMotionConfig(),g=L.animate,y=L.config,x=s.useTransition(m,{keys:function(e){return e.path},initial:j,from:W,enter:j,update:j,leave:W,config:y,immediate:!g});return b.jsx(b.Fragment,{children:x((function(t,o){return e.createElement(i,{key:o.path,node:o,animatedProps:t,borderWidth:a,enableLabel:r,labelSkipSize:l,enableParentLabel:d})}))})})),R=["isInteractive","animate","motionConfig","theme","renderWrapper"],z=function(o){var n=o.data,i=o.identity,a=void 0===i?P.identity:i,r=o.value,l=void 0===r?P.value:r,d=o.valueFormat,s=o.tile,u=void 0===s?P.tile:s,p=o.nodeComponent,c=void 0===p?P.nodeComponent:p,v=o.innerPadding,h=void 0===v?P.innerPadding:v,f=o.outerPadding,m=void 0===f?P.outerPadding:f,L=o.leavesOnly,g=void 0===L?P.leavesOnly:L,y=o.width,x=o.height,C=o.margin,M=o.layers,w=void 0===M?P.layers:M,T=o.colors,k=void 0===T?P.colors:T,j=o.colorBy,W=void 0===j?P.colorBy:j,R=o.nodeOpacity,z=void 0===R?P.nodeOpacity:R,E=o.borderWidth,B=void 0===E?P.borderWidth:E,D=o.borderColor,q=void 0===D?P.borderColor:D,F=o.defs,X=void 0===F?P.defs:F,Y=o.fill,H=void 0===Y?P.fill:Y,A=o.enableLabel,V=void 0===A?P.enableLabel:A,N=o.label,G=void 0===N?P.label:N,J=o.labelTextColor,K=void 0===J?P.labelTextColor:J,Q=o.orientLabel,U=void 0===Q?P.orientLabel:Q,Z=o.labelSkipSize,$=void 0===Z?P.labelSkipSize:Z,_=o.enableParentLabel,ee=void 0===_?P.enableParentLabel:_,te=o.parentLabel,oe=void 0===te?P.parentLabel:te,ne=o.parentLabelSize,ie=void 0===ne?P.parentLabelSize:ne,ae=o.parentLabelPosition,re=void 0===ae?P.parentLabelPosition:ae,le=o.parentLabelPadding,de=void 0===le?P.parentLabelPadding:le,se=o.parentLabelTextColor,ue=void 0===se?P.parentLabelTextColor:se,be=o.isInteractive,pe=void 0===be?P.isInteractive:be,ce=o.onMouseEnter,ve=o.onMouseMove,he=o.onMouseLeave,fe=o.onClick,me=o.tooltip,Le=void 0===me?P.tooltip:me,ge=o.role,ye=o.ariaLabel,xe=o.ariaLabelledBy,Ce=o.ariaDescribedBy,Pe=t.useDimensions(y,x,C),Me=Pe.margin,we=Pe.innerWidth,Te=Pe.innerHeight,Se=Pe.outerWidth,ke=Pe.outerHeight,Oe=S({data:n,identity:a,value:l,valueFormat:d,leavesOnly:g,width:we,height:Te,tile:u,innerPadding:h,outerPadding:m,colors:k,colorBy:W,nodeOpacity:z,borderColor:q,label:G,labelTextColor:K,orientLabel:U,enableParentLabel:ee,parentLabel:oe,parentLabelSize:ie,parentLabelPosition:re,parentLabelPadding:de,parentLabelTextColor:ue}).nodes,je={nodes:null};w.includes("nodes")&&(je.nodes=b.jsx(I,{nodes:Oe,nodeComponent:c,borderWidth:B,enableLabel:V,labelSkipSize:$,enableParentLabel:ee,isInteractive:pe,onMouseEnter:ce,onMouseMove:ve,onMouseLeave:he,onClick:fe,tooltip:Le},"nodes"));var We=O({nodes:Oe}),Ie=t.bindDefs(X,Oe,H);return b.jsx(t.SvgWrapper,{width:Se,height:ke,margin:Me,defs:Ie,role:ge,ariaLabel:ye,ariaLabelledBy:xe,ariaDescribedBy:Ce,children:w.map((function(t,o){var n;return"function"==typeof t?b.jsx(e.Fragment,{children:e.createElement(t,We)},o):null!=(n=null==je?void 0:je[t])?n:null}))})},E=function(e){var o=e.isInteractive,n=void 0===o?P.isInteractive:o,i=e.animate,a=void 0===i?P.animate:i,r=e.motionConfig,l=void 0===r?P.motionConfig:r,d=e.theme,s=e.renderWrapper,u=c(e,R);return b.jsx(t.Container,{animate:a,isInteractive:n,motionConfig:l,renderWrapper:s,theme:d,children:b.jsx(z,p({isInteractive:n},u))})},B=["isInteractive","animate","motionConfig","theme","renderWrapper"],D=function(o){var n=o.data,i=o.identity,a=void 0===i?M.identity:i,r=o.value,l=void 0===r?M.value:r,d=o.tile,s=void 0===d?M.tile:d,u=o.nodeComponent,p=void 0===u?M.nodeComponent:u,c=o.valueFormat,v=o.innerPadding,h=void 0===v?M.innerPadding:v,f=o.outerPadding,m=void 0===f?M.outerPadding:f,L=o.leavesOnly,g=void 0===L?M.leavesOnly:L,y=o.width,x=o.height,C=o.margin,w=o.layers,T=void 0===w?P.layers:w,k=o.colors,j=void 0===k?M.colors:k,W=o.colorBy,R=void 0===W?M.colorBy:W,z=o.nodeOpacity,E=void 0===z?M.nodeOpacity:z,B=o.borderWidth,D=void 0===B?M.borderWidth:B,q=o.borderColor,F=void 0===q?M.borderColor:q,X=o.enableLabel,Y=void 0===X?M.enableLabel:X,H=o.label,A=void 0===H?M.label:H,V=o.labelTextColor,N=void 0===V?M.labelTextColor:V,G=o.orientLabel,J=void 0===G?M.orientLabel:G,K=o.labelSkipSize,Q=void 0===K?M.labelSkipSize:K,U=o.enableParentLabel,Z=void 0===U?M.enableParentLabel:U,$=o.parentLabel,_=void 0===$?M.parentLabel:$,ee=o.parentLabelSize,te=void 0===ee?M.parentLabelSize:ee,oe=o.parentLabelPosition,ne=void 0===oe?M.parentLabelPosition:oe,ie=o.parentLabelPadding,ae=void 0===ie?M.parentLabelPadding:ie,re=o.parentLabelTextColor,le=void 0===re?M.parentLabelTextColor:re,de=o.isInteractive,se=void 0===de?M.isInteractive:de,ue=o.onMouseEnter,be=o.onMouseMove,pe=o.onMouseLeave,ce=o.onClick,ve=o.tooltip,he=void 0===ve?M.tooltip:ve,fe=o.role,me=o.ariaLabel,Le=o.ariaLabelledBy,ge=o.ariaDescribedBy,ye=t.useDimensions(y,x,C),xe=ye.margin,Ce=ye.innerWidth,Pe=ye.innerHeight,Me=ye.outerWidth,we=ye.outerHeight,Te=S({data:n,identity:a,value:l,valueFormat:c,leavesOnly:g,width:Ce,height:Pe,tile:s,innerPadding:h,outerPadding:m,colors:j,colorBy:R,nodeOpacity:E,borderColor:F,label:A,labelTextColor:N,orientLabel:J,enableParentLabel:Z,parentLabel:_,parentLabelSize:te,parentLabelPosition:ne,parentLabelPadding:ae,parentLabelTextColor:le}).nodes,Se={nodes:null};T.includes("nodes")&&(Se.nodes=b.jsx(I,{nodes:Te,nodeComponent:p,borderWidth:D,enableLabel:Y,labelSkipSize:Q,enableParentLabel:Z,isInteractive:se,onMouseEnter:ue,onMouseMove:be,onMouseLeave:pe,onClick:ce,tooltip:he},"nodes"));var ke=O({nodes:Te});return b.jsx("div",{role:fe,"aria-label":me,"aria-labelledby":Le,"aria-describedby":ge,style:{position:"relative",width:Me,height:we},children:b.jsx("div",{style:{position:"absolute",top:xe.top,left:xe.left},children:T.map((function(t,o){var n;return"function"==typeof t?b.jsx(e.Fragment,{children:e.createElement(t,ke)},o):null!=(n=null==Se?void 0:Se[t])?n:null}))})})},q=function(e){var o=e.isInteractive,n=void 0===o?M.isInteractive:o,i=e.animate,a=void 0===i?M.animate:i,r=e.motionConfig,l=void 0===r?M.motionConfig:r,d=e.theme,s=e.renderWrapper,u=c(e,B);return b.jsx(t.Container,{animate:a,isInteractive:n,motionConfig:l,renderWrapper:s,theme:d,children:b.jsx(D,p({isInteractive:n},u))})},F=["theme","isInteractive","animate","motionConfig","renderWrapper"],X=function(e,o,n,i){return e.find((function(e){return t.isCursorInRect(e.x+o.left,e.y+o.top,e.width,e.height,n,i)}))},Y=function(o){var n=o.data,i=o.identity,a=void 0===i?w.identity:i,l=o.value,s=void 0===l?w.identity:l,c=o.tile,v=void 0===c?w.tile:c,h=o.valueFormat,f=o.innerPadding,m=void 0===f?w.innerPadding:f,L=o.outerPadding,g=void 0===L?w.outerPadding:L,y=o.leavesOnly,x=void 0===y?w.leavesOnly:y,C=o.width,P=o.height,M=o.margin,T=o.colors,k=void 0===T?w.colors:T,O=o.colorBy,j=void 0===O?w.colorBy:O,W=o.nodeOpacity,I=void 0===W?w.nodeOpacity:W,R=o.borderWidth,z=void 0===R?w.borderWidth:R,E=o.borderColor,B=void 0===E?w.borderColor:E,D=o.enableLabel,q=void 0===D?w.enableLabel:D,F=o.label,Y=void 0===F?w.label:F,H=o.labelTextColor,A=void 0===H?w.labelTextColor:H,V=o.orientLabel,N=void 0===V?w.orientLabel:V,G=o.labelSkipSize,J=void 0===G?w.labelSkipSize:G,K=o.isInteractive,Q=void 0===K?w.isInteractive:K,U=o.onMouseMove,Z=o.onClick,$=o.tooltip,_=void 0===$?w.tooltip:$,ee=o.pixelRatio,te=void 0===ee?w.pixelRatio:ee,oe=o.role,ne=o.ariaLabel,ie=o.ariaLabelledBy,ae=o.ariaDescribedBy,re=e.useRef(null),le=t.useDimensions(C,P,M),de=le.margin,se=le.innerWidth,ue=le.innerHeight,be=le.outerWidth,pe=le.outerHeight,ce=S({data:n,identity:a,value:s,valueFormat:h,leavesOnly:x,width:se,height:ue,tile:v,innerPadding:m,outerPadding:g,colors:k,colorBy:j,nodeOpacity:I,borderColor:B,label:Y,labelTextColor:A,orientLabel:N,enableParentLabel:!1}).nodes,ve=r.useTheme();e.useEffect((function(){if(null!==re.current){var e=re.current.getContext("2d");null!==e&&(re.current.width=be*te,re.current.height=pe*te,e.scale(te,te),e.fillStyle=ve.background,e.fillRect(0,0,be,pe),e.translate(de.left,de.top),ce.forEach((function(t){e.fillStyle=t.color,e.fillRect(t.x,t.y,t.width,t.height),z>0&&(e.strokeStyle=t.borderColor,e.lineWidth=z,e.strokeRect(t.x,t.y,t.width,t.height))})),q&&(e.textAlign="center",e.textBaseline="middle",u.setCanvasFont(e,ve.labels.text),ce.forEach((function(o){if(o.isLeaf&&(0===J||Math.min(o.width,o.height)>J)){var n=N&&o.height>o.width;e.save(),e.translate(o.x+o.width/2,o.y+o.height/2),e.rotate(t.degreesToRadians(n?-90:0)),u.drawCanvasText(e,p({},ve.labels.text,{fill:o.labelTextColor}),String(o.label)),e.restore()}}))))}}),[re,ce,be,pe,se,ue,de,z,q,N,J,ve,te]);var he=d.useTooltip(),fe=he.showTooltipFromEvent,me=he.hideTooltip,Le=e.useCallback((function(o){if(null!==re.current){var n=t.getRelativeCursor(re.current,o),i=n[0],a=n[1],r=X(ce,de,i,a);void 0!==r?(fe(e.createElement(_,{node:r}),o,"left"),null==U||U(r,o)):me()}}),[re,ce,de,fe,me,_,U]),ge=e.useCallback((function(){me()}),[me]),ye=e.useCallback((function(e){if(null!==re.current){var o=t.getRelativeCursor(re.current,e),n=o[0],i=o[1],a=X(ce,de,n,i);void 0!==a&&(null==Z||Z(a,e))}}),[re,ce,de,Z]);return b.jsx("canvas",{ref:re,width:be*te,height:pe*te,style:{width:be,height:pe},onMouseEnter:Q?Le:void 0,onMouseMove:Q?Le:void 0,onMouseLeave:Q?ge:void 0,onClick:Q?ye:void 0,role:oe,"aria-label":ne,"aria-labelledby":ie,"aria-describedby":ae})},H=function(e){var o=e.theme,n=e.isInteractive,i=void 0===n?w.isInteractive:n,a=e.animate,r=void 0===a?w.animate:a,l=e.motionConfig,d=void 0===l?w.motionConfig:l,s=e.renderWrapper,u=c(e,F);return b.jsx(t.Container,{isInteractive:i,animate:r,motionConfig:d,theme:o,renderWrapper:s,children:b.jsx(Y,p({isInteractive:i},u))})};exports.ResponsiveTreeMap=function(e){return b.jsx(t.ResponsiveWrapper,{children:function(t){var o=t.width,n=t.height;return b.jsx(E,p({width:o,height:n},e))}})},exports.ResponsiveTreeMapCanvas=function(e){return b.jsx(t.ResponsiveWrapper,{children:function(t){var o=t.width,n=t.height;return b.jsx(H,p({width:o,height:n},e))}})},exports.ResponsiveTreeMapHtml=function(e){return b.jsx(t.ResponsiveWrapper,{children:function(t){var o=t.width,n=t.height;return b.jsx(q,p({width:o,height:n},e))}})},exports.TreeMap=E,exports.TreeMapCanvas=H,exports.TreeMapHtml=q,exports.canvasDefaultProps=w,exports.commonDefaultProps=C,exports.htmlDefaultProps=M,exports.htmlLabelTransform=m,exports.htmlNodeTransform=h,exports.htmlParentLabelTransform=L,exports.svgDefaultProps=P,exports.svgLabelTransform=f,exports.svgNodeTransform=v,exports.tileByType=T;
//# sourceMappingURL=nivo-treemap.cjs.js.map
