import{memo as e,useCallback as t,createElement as o,useMemo as n,Fragment as i,useRef as a,useEffect as r}from"react";import{usePropertyAccessor as l,useValueFormatter as d,useMotionConfig as b,Container as u,useDimensions as p,bindDefs as s,SvgWrapper as v,ResponsiveWrapper as c,degreesToRadians as h,getRelativeCursor as f,isCursorInRect as L}from"@nivo/core";import g from"lodash/omit.js";import m from"lodash/cloneDeep.js";import y from"lodash/startCase.js";import{treemapBinary as C,treemapDice as x,treemapSlice as P,treemapSliceDice as w,treemapSquarify as M,treemap as S,hierarchy as O}from"d3-hierarchy";import{useTheme as k}from"@nivo/theming";import{useOrdinalColorScale as T,useInheritedColor as W}from"@nivo/colors";import{BasicTooltip as I,useTooltip as z}from"@nivo/tooltip";import{to as B,animated as R,useTransition as E}from"@react-spring/web";import{Text as X,setCanvasFont as Y,drawCanvasText as F}from"@nivo/text";import{jsxs as j,jsx as D,Fragment as H}from"react/jsx-runtime";function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},V.apply(null,arguments)}function q(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;o[n]=e[n]}return o}var A=function(e,t){return B([e,t],(function(e,t){return"translate("+e+","+t+")"}))},G=function(e,t){return B([e,t],(function(e,t){return"translate("+e+"px, "+t+"px)"}))},J=function(e,t,o){return B([e,t,o],(function(e,t,o){return"translate("+e+","+t+") rotate("+o+")"}))},K=function(e,t,o){return B([e,t,o],(function(e,t,o){return"translate("+e+"px,"+t+"px) rotate("+o+"deg)"}))},N=function(e,t,o){return B([e,t,o],(function(e,t,o){return"translate("+(e-(0===o?0:5))+"px,"+(t-(0===o?5:0))+"px) rotate("+o+"deg)"}))},Q=e((function(e){var t=e.node,o=e.animatedProps,n=e.borderWidth,i=e.enableLabel,a=e.enableParentLabel,r=e.labelSkipSize,l=k(),d=i&&t.isLeaf&&(0===r||Math.min(t.width,t.height)>r),b=a&&t.isParent;return j(R.g,{transform:A(o.x,o.y),children:[D(R.rect,{"data-testid":"node."+t.id,width:B(o.width,(function(e){return Math.max(e,0)})),height:B(o.height,(function(e){return Math.max(e,0)})),fill:t.fill?t.fill:o.color,strokeWidth:n,stroke:t.borderColor,fillOpacity:t.opacity,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick}),d&&D(X,{"data-testid":"label."+t.id,textAnchor:"middle",dominantBaseline:"central",style:V({},l.labels.text,{fill:t.labelTextColor,pointerEvents:"none"}),fillOpacity:o.labelOpacity,transform:J(o.labelX,o.labelY,o.labelRotation),children:t.label}),b&&D(X,{"data-testid":"parentLabel."+t.id,dominantBaseline:"central",style:V({},l.labels.text,{fill:t.parentLabelTextColor,pointerEvents:"none"}),fillOpacity:o.parentLabelOpacity,transform:J(o.parentLabelX,o.parentLabelY,o.parentLabelRotation),children:t.parentLabel})]})})),U=e((function(e){var t=e.node;return D(I,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})})),Z=e((function(e){var t=e.node,o=e.animatedProps,n=e.borderWidth,i=e.enableLabel,a=e.enableParentLabel,r=e.labelSkipSize,l=k(),d=i&&t.isLeaf&&(0===r||Math.min(t.width,t.height)>r),b=a&&t.isParent;return j(R.div,{"data-testid":"node."+t.id,id:t.path.replace(/[^\w]/gi,"-"),style:{boxSizing:"border-box",position:"absolute",top:0,left:0,transform:G(o.x,o.y),width:o.width,height:o.height,borderWidth:n,borderStyle:"solid",borderColor:t.borderColor,overflow:"hidden"},children:[D(R.div,{style:{boxSizing:"border-box",position:"absolute",top:0,left:0,opacity:t.opacity,width:o.width,height:o.height,background:o.color},onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick}),d&&D(R.span,{"data-testid":"label."+t.id,style:V({},l.labels.text,{position:"absolute",display:"flex",top:-5,left:-5,width:10,height:10,justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",color:t.labelTextColor,transformOrigin:"center center",transform:K(o.labelX,o.labelY,o.labelRotation),opacity:o.labelOpacity,pointerEvents:"none"}),children:t.label}),b&&D(R.span,{"data-testid":"parentLabel."+t.id,style:V({},l.labels.text,{position:"absolute",display:"flex",justifyContent:"flex-start",alignItems:"center",whiteSpace:"nowrap",width:10,height:10,color:t.parentLabelTextColor,transformOrigin:"top left",transform:N(o.parentLabelX,o.parentLabelY,o.parentLabelRotation),opacity:o.parentLabelOpacity,pointerEvents:"none"}),children:t.parentLabel})]})})),$={layers:["nodes"],identity:"id",value:"value",tile:"squarify",leavesOnly:!1,innerPadding:0,outerPadding:0,colors:{scheme:"nivo"},colorBy:"pathComponents.1",nodeOpacity:.33,enableLabel:!0,label:"formattedValue",labelSkipSize:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},orientLabel:!0,enableParentLabel:!0,parentLabel:"id",parentLabelSize:20,parentLabelPosition:"top",parentLabelPadding:6,parentLabelTextColor:{from:"color",modifiers:[["darker",1]]},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,tooltip:U,role:"img",animate:!0,motionConfig:"gentle"},_=V({},$,{nodeComponent:Q,defs:[],fill:[]}),ee=V({},$,{nodeComponent:Z}),te=V({},$,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),oe={binary:C,dice:x,slice:P,sliceDice:w,squarify:M},ne=function(e){var t=e.root,o=e.getValue;return n((function(){return O(t).sum(o)}),[t,o])},ie=function(e){var t=e.data,o=e.width,i=e.height,a=e.identity,r=void 0===a?$.identity:a,b=e.value,u=void 0===b?$.value:b,p=e.valueFormat,s=e.leavesOnly,v=void 0===s?$.leavesOnly:s,c=e.tile,h=void 0===c?$.tile:c,f=e.innerPadding,L=void 0===f?$.innerPadding:f,C=e.outerPadding,x=void 0===C?$.outerPadding:C,P=e.label,w=void 0===P?$.label:P,M=e.orientLabel,O=void 0===M?$.orientLabel:M,I=e.enableParentLabel,z=void 0===I?$.enableParentLabel:I,B=e.parentLabel,R=void 0===B?$.parentLabel:B,E=e.parentLabelSize,X=void 0===E?$.parentLabelSize:E,Y=e.parentLabelPosition,F=void 0===Y?$.parentLabelPosition:Y,j=e.parentLabelPadding,D=void 0===j?$.parentLabelPadding:j,H=e.colors,q=void 0===H?$.colors:H,A=e.colorBy,G=void 0===A?$.colorBy:A,J=e.nodeOpacity,K=void 0===J?$.nodeOpacity:J,N=e.borderColor,Q=void 0===N?$.borderColor:N,U=e.labelTextColor,Z=void 0===U?$.labelTextColor:U,_=e.parentLabelTextColor,ee=void 0===_?$.parentLabelTextColor:_,te=l(r),ie=l(u),ae=d(p),re=l(w),le=l(R),de=function(e){var t=e.width,o=e.height,i=e.tile,a=e.innerPadding,r=e.outerPadding,l=e.enableParentLabel,d=e.parentLabelSize,b=e.parentLabelPosition,u=e.leavesOnly;return n((function(){var e=S().size([t,o]).tile(oe[i]).round(!0).paddingInner(a).paddingOuter(r);if(l&&!u){var n=d+2*r;e["padding"+y(b)](n)}return e}),[t,o,i,a,r,l,d,b,u])}({width:o,height:i,tile:h,innerPadding:L,outerPadding:x,enableParentLabel:z,parentLabelSize:X,parentLabelPosition:F,leavesOnly:v}),be=ne({root:t,getValue:ie}),ue=n((function(){var e=m(be);return de(e),v?e.leaves():e.descendants()}),[be,de,v]),pe=n((function(){return ue.map((function(e){var t=function(e,t){var o=e.ancestors().map((function(e){return t(e.data)})).reverse();return{path:o.join("."),pathComponents:o}}(e,te),o=t.path,n=t.pathComponents,i={id:te(e.data),path:o,pathComponents:n,data:g(e.data,"children"),x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0,value:e.value,formattedValue:ae(e.value),treeDepth:e.depth,treeHeight:e.height,isParent:e.height>0,isLeaf:0===e.height,parentLabelX:0,parentLabelY:0,parentLabelRotation:0};return i.labelRotation=O&&i.height>i.width?-90:0,"top"===F&&(i.parentLabelX=x+D,i.parentLabelY=x+X/2),"right"===F&&(i.parentLabelX=i.width-x-X/2,i.parentLabelY=i.height-x-D,i.parentLabelRotation=-90),"bottom"===F&&(i.parentLabelX=x+D,i.parentLabelY=i.height-x-X/2),"left"===F&&(i.parentLabelX=x+X/2,i.parentLabelY=i.height-x-D,i.parentLabelRotation=-90),i.label=re(i),i.parentLabel=le(i),i}))}),[ue,te,ae,re,O,le,X,F,D,x]),se=k(),ve=T(q,G),ce=W(Q,se),he=W(Z,se),fe=W(ee,se),Le=n((function(){return pe.map((function(e){var t=V({},e,{color:ve(e),opacity:K});return t.borderColor=ce(t),t.labelTextColor=he(t),t.parentLabelTextColor=fe(t),t}))}),[pe,ve,K,ce,he,fe]);return{hierarchy:be,nodes:Le,layout:de}},ae=function(e){var t=e.nodes;return n((function(){return{nodes:t}}),[t])},re=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,labelX:e.width/2,labelY:e.height/2,labelRotation:e.labelRotation,labelOpacity:1,parentLabelX:e.parentLabelX,parentLabelY:e.parentLabelY,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:1}},le=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2,width:0,height:0,color:e.color,labelX:0,labelY:0,labelRotation:e.labelRotation,labelOpacity:0,parentLabelX:0,parentLabelY:0,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:0}},de=e((function(e){var i=e.nodes,a=e.nodeComponent,r=e.borderWidth,l=e.enableLabel,d=e.labelSkipSize,u=e.enableParentLabel,p=function(e,i){var a=i.isInteractive,r=i.onMouseEnter,l=i.onMouseMove,d=i.onMouseLeave,b=i.onClick,u=i.tooltip,p=z(),s=p.showTooltipFromEvent,v=p.hideTooltip,c=t((function(e,t){s(o(u,{node:e}),t,"left")}),[s,u]),h=t((function(e,t){c(e,t),null==r||r(e,t)}),[r,c]),f=t((function(e,t){c(e,t),null==l||l(e,t)}),[l,c]),L=t((function(e,t){v(),null==d||d(e,t)}),[d,v]),g=t((function(e,t){null==b||b(e,t)}),[b]);return n((function(){return e.map((function(e){return a?V({},e,{onMouseEnter:function(t){return h(e,t)},onMouseMove:function(t){return f(e,t)},onMouseLeave:function(t){return L(e,t)},onClick:function(t){return g(e,t)}}):e}))}),[a,e,h,f,L,g])}(i,{isInteractive:e.isInteractive,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,tooltip:e.tooltip}),s=b(),v=s.animate,c=s.config,h=E(p,{keys:function(e){return e.path},initial:re,from:le,enter:re,update:re,leave:le,config:c,immediate:!v});return D(H,{children:h((function(e,t){return o(a,{key:t.path,node:t,animatedProps:e,borderWidth:r,enableLabel:l,labelSkipSize:d,enableParentLabel:u})}))})})),be=["isInteractive","animate","motionConfig","theme","renderWrapper"],ue=function(e){var t=e.data,n=e.identity,a=void 0===n?_.identity:n,r=e.value,l=void 0===r?_.value:r,d=e.valueFormat,b=e.tile,u=void 0===b?_.tile:b,c=e.nodeComponent,h=void 0===c?_.nodeComponent:c,f=e.innerPadding,L=void 0===f?_.innerPadding:f,g=e.outerPadding,m=void 0===g?_.outerPadding:g,y=e.leavesOnly,C=void 0===y?_.leavesOnly:y,x=e.width,P=e.height,w=e.margin,M=e.layers,S=void 0===M?_.layers:M,O=e.colors,k=void 0===O?_.colors:O,T=e.colorBy,W=void 0===T?_.colorBy:T,I=e.nodeOpacity,z=void 0===I?_.nodeOpacity:I,B=e.borderWidth,R=void 0===B?_.borderWidth:B,E=e.borderColor,X=void 0===E?_.borderColor:E,Y=e.defs,F=void 0===Y?_.defs:Y,j=e.fill,H=void 0===j?_.fill:j,V=e.enableLabel,q=void 0===V?_.enableLabel:V,A=e.label,G=void 0===A?_.label:A,J=e.labelTextColor,K=void 0===J?_.labelTextColor:J,N=e.orientLabel,Q=void 0===N?_.orientLabel:N,U=e.labelSkipSize,Z=void 0===U?_.labelSkipSize:U,$=e.enableParentLabel,ee=void 0===$?_.enableParentLabel:$,te=e.parentLabel,oe=void 0===te?_.parentLabel:te,ne=e.parentLabelSize,re=void 0===ne?_.parentLabelSize:ne,le=e.parentLabelPosition,be=void 0===le?_.parentLabelPosition:le,ue=e.parentLabelPadding,pe=void 0===ue?_.parentLabelPadding:ue,se=e.parentLabelTextColor,ve=void 0===se?_.parentLabelTextColor:se,ce=e.isInteractive,he=void 0===ce?_.isInteractive:ce,fe=e.onMouseEnter,Le=e.onMouseMove,ge=e.onMouseLeave,me=e.onClick,ye=e.tooltip,Ce=void 0===ye?_.tooltip:ye,xe=e.role,Pe=e.ariaLabel,we=e.ariaLabelledBy,Me=e.ariaDescribedBy,Se=p(x,P,w),Oe=Se.margin,ke=Se.innerWidth,Te=Se.innerHeight,We=Se.outerWidth,Ie=Se.outerHeight,ze=ie({data:t,identity:a,value:l,valueFormat:d,leavesOnly:C,width:ke,height:Te,tile:u,innerPadding:L,outerPadding:m,colors:k,colorBy:W,nodeOpacity:z,borderColor:X,label:G,labelTextColor:K,orientLabel:Q,enableParentLabel:ee,parentLabel:oe,parentLabelSize:re,parentLabelPosition:be,parentLabelPadding:pe,parentLabelTextColor:ve}).nodes,Be={nodes:null};S.includes("nodes")&&(Be.nodes=D(de,{nodes:ze,nodeComponent:h,borderWidth:R,enableLabel:q,labelSkipSize:Z,enableParentLabel:ee,isInteractive:he,onMouseEnter:fe,onMouseMove:Le,onMouseLeave:ge,onClick:me,tooltip:Ce},"nodes"));var Re=ae({nodes:ze}),Ee=s(F,ze,H);return D(v,{width:We,height:Ie,margin:Oe,defs:Ee,role:xe,ariaLabel:Pe,ariaLabelledBy:we,ariaDescribedBy:Me,children:S.map((function(e,t){var n;return"function"==typeof e?D(i,{children:o(e,Re)},t):null!=(n=null==Be?void 0:Be[e])?n:null}))})},pe=function(e){var t=e.isInteractive,o=void 0===t?_.isInteractive:t,n=e.animate,i=void 0===n?_.animate:n,a=e.motionConfig,r=void 0===a?_.motionConfig:a,l=e.theme,d=e.renderWrapper,b=q(e,be);return D(u,{animate:i,isInteractive:o,motionConfig:r,renderWrapper:d,theme:l,children:D(ue,V({isInteractive:o},b))})},se=function(e){return D(c,{children:function(t){var o=t.width,n=t.height;return D(pe,V({width:o,height:n},e))}})},ve=["isInteractive","animate","motionConfig","theme","renderWrapper"],ce=function(e){var t=e.data,n=e.identity,a=void 0===n?ee.identity:n,r=e.value,l=void 0===r?ee.value:r,d=e.tile,b=void 0===d?ee.tile:d,u=e.nodeComponent,s=void 0===u?ee.nodeComponent:u,v=e.valueFormat,c=e.innerPadding,h=void 0===c?ee.innerPadding:c,f=e.outerPadding,L=void 0===f?ee.outerPadding:f,g=e.leavesOnly,m=void 0===g?ee.leavesOnly:g,y=e.width,C=e.height,x=e.margin,P=e.layers,w=void 0===P?_.layers:P,M=e.colors,S=void 0===M?ee.colors:M,O=e.colorBy,k=void 0===O?ee.colorBy:O,T=e.nodeOpacity,W=void 0===T?ee.nodeOpacity:T,I=e.borderWidth,z=void 0===I?ee.borderWidth:I,B=e.borderColor,R=void 0===B?ee.borderColor:B,E=e.enableLabel,X=void 0===E?ee.enableLabel:E,Y=e.label,F=void 0===Y?ee.label:Y,j=e.labelTextColor,H=void 0===j?ee.labelTextColor:j,V=e.orientLabel,q=void 0===V?ee.orientLabel:V,A=e.labelSkipSize,G=void 0===A?ee.labelSkipSize:A,J=e.enableParentLabel,K=void 0===J?ee.enableParentLabel:J,N=e.parentLabel,Q=void 0===N?ee.parentLabel:N,U=e.parentLabelSize,Z=void 0===U?ee.parentLabelSize:U,$=e.parentLabelPosition,te=void 0===$?ee.parentLabelPosition:$,oe=e.parentLabelPadding,ne=void 0===oe?ee.parentLabelPadding:oe,re=e.parentLabelTextColor,le=void 0===re?ee.parentLabelTextColor:re,be=e.isInteractive,ue=void 0===be?ee.isInteractive:be,pe=e.onMouseEnter,se=e.onMouseMove,ve=e.onMouseLeave,ce=e.onClick,he=e.tooltip,fe=void 0===he?ee.tooltip:he,Le=e.role,ge=e.ariaLabel,me=e.ariaLabelledBy,ye=e.ariaDescribedBy,Ce=p(y,C,x),xe=Ce.margin,Pe=Ce.innerWidth,we=Ce.innerHeight,Me=Ce.outerWidth,Se=Ce.outerHeight,Oe=ie({data:t,identity:a,value:l,valueFormat:v,leavesOnly:m,width:Pe,height:we,tile:b,innerPadding:h,outerPadding:L,colors:S,colorBy:k,nodeOpacity:W,borderColor:R,label:F,labelTextColor:H,orientLabel:q,enableParentLabel:K,parentLabel:Q,parentLabelSize:Z,parentLabelPosition:te,parentLabelPadding:ne,parentLabelTextColor:le}).nodes,ke={nodes:null};w.includes("nodes")&&(ke.nodes=D(de,{nodes:Oe,nodeComponent:s,borderWidth:z,enableLabel:X,labelSkipSize:G,enableParentLabel:K,isInteractive:ue,onMouseEnter:pe,onMouseMove:se,onMouseLeave:ve,onClick:ce,tooltip:fe},"nodes"));var Te=ae({nodes:Oe});return D("div",{role:Le,"aria-label":ge,"aria-labelledby":me,"aria-describedby":ye,style:{position:"relative",width:Me,height:Se},children:D("div",{style:{position:"absolute",top:xe.top,left:xe.left},children:w.map((function(e,t){var n;return"function"==typeof e?D(i,{children:o(e,Te)},t):null!=(n=null==ke?void 0:ke[e])?n:null}))})})},he=function(e){var t=e.isInteractive,o=void 0===t?ee.isInteractive:t,n=e.animate,i=void 0===n?ee.animate:n,a=e.motionConfig,r=void 0===a?ee.motionConfig:a,l=e.theme,d=e.renderWrapper,b=q(e,ve);return D(u,{animate:i,isInteractive:o,motionConfig:r,renderWrapper:d,theme:l,children:D(ce,V({isInteractive:o},b))})},fe=function(e){return D(c,{children:function(t){var o=t.width,n=t.height;return D(he,V({width:o,height:n},e))}})},Le=["theme","isInteractive","animate","motionConfig","renderWrapper"],ge=function(e,t,o,n){return e.find((function(e){return L(e.x+t.left,e.y+t.top,e.width,e.height,o,n)}))},me=function(e){var n=e.data,i=e.identity,l=void 0===i?te.identity:i,d=e.value,b=void 0===d?te.identity:d,u=e.tile,s=void 0===u?te.tile:u,v=e.valueFormat,c=e.innerPadding,L=void 0===c?te.innerPadding:c,g=e.outerPadding,m=void 0===g?te.outerPadding:g,y=e.leavesOnly,C=void 0===y?te.leavesOnly:y,x=e.width,P=e.height,w=e.margin,M=e.colors,S=void 0===M?te.colors:M,O=e.colorBy,T=void 0===O?te.colorBy:O,W=e.nodeOpacity,I=void 0===W?te.nodeOpacity:W,B=e.borderWidth,R=void 0===B?te.borderWidth:B,E=e.borderColor,X=void 0===E?te.borderColor:E,j=e.enableLabel,H=void 0===j?te.enableLabel:j,q=e.label,A=void 0===q?te.label:q,G=e.labelTextColor,J=void 0===G?te.labelTextColor:G,K=e.orientLabel,N=void 0===K?te.orientLabel:K,Q=e.labelSkipSize,U=void 0===Q?te.labelSkipSize:Q,Z=e.isInteractive,$=void 0===Z?te.isInteractive:Z,_=e.onMouseMove,ee=e.onClick,oe=e.tooltip,ne=void 0===oe?te.tooltip:oe,ae=e.pixelRatio,re=void 0===ae?te.pixelRatio:ae,le=e.role,de=e.ariaLabel,be=e.ariaLabelledBy,ue=e.ariaDescribedBy,pe=a(null),se=p(x,P,w),ve=se.margin,ce=se.innerWidth,he=se.innerHeight,fe=se.outerWidth,Le=se.outerHeight,me=ie({data:n,identity:l,value:b,valueFormat:v,leavesOnly:C,width:ce,height:he,tile:s,innerPadding:L,outerPadding:m,colors:S,colorBy:T,nodeOpacity:I,borderColor:X,label:A,labelTextColor:J,orientLabel:N,enableParentLabel:!1}).nodes,ye=k();r((function(){if(null!==pe.current){var e=pe.current.getContext("2d");null!==e&&(pe.current.width=fe*re,pe.current.height=Le*re,e.scale(re,re),e.fillStyle=ye.background,e.fillRect(0,0,fe,Le),e.translate(ve.left,ve.top),me.forEach((function(t){e.fillStyle=t.color,e.fillRect(t.x,t.y,t.width,t.height),R>0&&(e.strokeStyle=t.borderColor,e.lineWidth=R,e.strokeRect(t.x,t.y,t.width,t.height))})),H&&(e.textAlign="center",e.textBaseline="middle",Y(e,ye.labels.text),me.forEach((function(t){if(t.isLeaf&&(0===U||Math.min(t.width,t.height)>U)){var o=N&&t.height>t.width;e.save(),e.translate(t.x+t.width/2,t.y+t.height/2),e.rotate(h(o?-90:0)),F(e,V({},ye.labels.text,{fill:t.labelTextColor}),String(t.label)),e.restore()}}))))}}),[pe,me,fe,Le,ce,he,ve,R,H,N,U,ye,re]);var Ce=z(),xe=Ce.showTooltipFromEvent,Pe=Ce.hideTooltip,we=t((function(e){if(null!==pe.current){var t=f(pe.current,e),n=t[0],i=t[1],a=ge(me,ve,n,i);void 0!==a?(xe(o(ne,{node:a}),e,"left"),null==_||_(a,e)):Pe()}}),[pe,me,ve,xe,Pe,ne,_]),Me=t((function(){Pe()}),[Pe]),Se=t((function(e){if(null!==pe.current){var t=f(pe.current,e),o=t[0],n=t[1],i=ge(me,ve,o,n);void 0!==i&&(null==ee||ee(i,e))}}),[pe,me,ve,ee]);return D("canvas",{ref:pe,width:fe*re,height:Le*re,style:{width:fe,height:Le},onMouseEnter:$?we:void 0,onMouseMove:$?we:void 0,onMouseLeave:$?Me:void 0,onClick:$?Se:void 0,role:le,"aria-label":de,"aria-labelledby":be,"aria-describedby":ue})},ye=function(e){var t=e.theme,o=e.isInteractive,n=void 0===o?te.isInteractive:o,i=e.animate,a=void 0===i?te.animate:i,r=e.motionConfig,l=void 0===r?te.motionConfig:r,d=e.renderWrapper,b=q(e,Le);return D(u,{isInteractive:n,animate:a,motionConfig:l,theme:t,renderWrapper:d,children:D(me,V({isInteractive:n},b))})},Ce=function(e){return D(c,{children:function(t){var o=t.width,n=t.height;return D(ye,V({width:o,height:n},e))}})};export{se as ResponsiveTreeMap,Ce as ResponsiveTreeMapCanvas,fe as ResponsiveTreeMapHtml,pe as TreeMap,ye as TreeMapCanvas,he as TreeMapHtml,te as canvasDefaultProps,$ as commonDefaultProps,ee as htmlDefaultProps,K as htmlLabelTransform,G as htmlNodeTransform,N as htmlParentLabelTransform,_ as svgDefaultProps,J as svgLabelTransform,A as svgNodeTransform,oe as tileByType};
//# sourceMappingURL=nivo-treemap.mjs.map
